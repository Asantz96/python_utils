<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!-->
<html class=" js flexbox canvas canvastext webgl no-touch geolocation postmessage no-websqldatabase indexeddb hashchange history draganddrop websockets rgba hsla multiplebgs backgroundsize borderimage borderradius boxshadow textshadow opacity cssanimations csscolumns cssgradients no-cssreflections csstransforms csstransforms3d csstransitions fontface generatedcontent video audio localstorage sessionstorage webworkers applicationcache svg inlinesvg smil svgclippaths" style="" lang="en"><!--<![endif]--><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Connecting to Oracle Database — cx_Oracle 8.0.0 documentation</title>
  

  
  
  
  

  
  <script async="" src="Python_Oracle_tutorial_files/analytics.js"></script><script type="text/javascript" src="Python_Oracle_tutorial_files/modernizr.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="Python_Oracle_tutorial_files/documentation_options.js"></script>
        <script type="text/javascript" src="Python_Oracle_tutorial_files/jquery.js"></script>
        <script type="text/javascript" src="Python_Oracle_tutorial_files/underscore.js"></script>
        <script type="text/javascript" src="Python_Oracle_tutorial_files/doctools.js"></script>
        <script type="text/javascript" src="Python_Oracle_tutorial_files/language_data.js"></script>
        <script async="async" type="text/javascript" src="Python_Oracle_tutorial_files/readthedocs-doc-embed.js"></script>
    
    <script type="text/javascript" src="Python_Oracle_tutorial_files/theme.js"></script>

    

  
  <link rel="stylesheet" href="Python_Oracle_tutorial_files/theme.css" type="text/css">
  <link rel="stylesheet" href="Python_Oracle_tutorial_files/pygments.css" type="text/css">
    <link rel="index" title="Index" href="https://cx-oracle.readthedocs.io/en/latest/genindex.html">
    <link rel="search" title="Search" href="https://cx-oracle.readthedocs.io/en/latest/search.html">
    <link rel="next" title="SQL Execution" href="https://cx-oracle.readthedocs.io/en/latest/user_guide/sql_execution.html">
    <link rel="prev" title="cx_Oracle 8 Initialization" href="https://cx-oracle.readthedocs.io/en/latest/user_guide/initialization.html"> 

<!-- RTD Extra Head -->

<!-- 
Always link to the latest version, as canonical.
http://docs.readthedocs.org/en/latest/canonical.html
-->
<link rel="canonical" href="https://cx-oracle.readthedocs.io/en/latest/user_guide/connection_handling.html">

<link rel="stylesheet" href="Python_Oracle_tutorial_files/readthedocs-doc-embed.css" type="text/css">

<script type="text/javascript" src="Python_Oracle_tutorial_files/readthedocs-data.js"></script>

<!-- Add page-specific data, which must exist in the page js, not global -->
<script type="text/javascript">
READTHEDOCS_DATA['page'] = "user_guide/connection_handling"
READTHEDOCS_DATA['source_suffix'] = ".rst"
</script>

<script type="text/javascript" src="Python_Oracle_tutorial_files/readthedocs-analytics.js" async="async"></script>

<!-- end RTD <extrahead> -->
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="https://cx-oracle.readthedocs.io/en/latest/index.html" class="icon icon-home"> cx_Oracle
          

          
          </a>

          
            
            
            
              <div class="version">
                latest
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs">
    <input type="hidden" name="check_keywords" value="yes">
    <input type="hidden" name="area" value="default">
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/user_guide/introduction.html">Introduction to cx_Oracle</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/user_guide/installation.html">cx_Oracle 8 Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/user_guide/initialization.html">cx_Oracle 8 Initialization</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="#"><span class="toctree-expand"></span>Connecting to Oracle Database</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#establishing-database-connections">Establishing Database Connections</a></li>
<li class="toctree-l2"><a class="reference internal" href="#closing-connections">Closing Connections</a></li>
<li class="toctree-l2"><a class="reference internal" href="#connection-strings"><span class="toctree-expand"></span>Connection Strings</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#easy-connect-syntax-for-connection-strings">Easy Connect Syntax for Connection Strings</a></li>
<li class="toctree-l3"><a class="reference internal" href="#oracle-net-connect-descriptor-strings">Oracle Net Connect Descriptor Strings</a></li>
<li class="toctree-l3"><a class="reference internal" href="#net-service-names-for-connection-strings">Net Service Names for Connection Strings</a></li>
<li class="toctree-l3"><a class="reference internal" href="#jdbc-and-oracle-sql-developer-connection-strings">JDBC and Oracle SQL Developer Connection Strings</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="reference internal current" href="#connection-pooling"><span class="toctree-expand"></span>Connection Pooling</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#session-callbacks-for-setting-pooled-connection-state">Session CallBacks for Setting Pooled Connection State</a></li>
<li class="toctree-l3"><a class="reference internal" href="#heterogeneous-and-homogeneous-connection-pools">Heterogeneous and Homogeneous Connection Pools</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#database-resident-connection-pooling-drcp">Database Resident Connection Pooling (DRCP)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#connecting-using-proxy-authentication">Connecting Using Proxy Authentication</a></li>
<li class="toctree-l2"><a class="reference internal" href="#connecting-using-external-authentication"><span class="toctree-expand"></span>Connecting Using External Authentication</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#using-an-oracle-wallet-for-external-authentication">Using an Oracle Wallet for External Authentication</a></li>
<li class="toctree-l3"><a class="reference internal" href="#operating-system-authentication">Operating System Authentication</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#privileged-connections">Privileged Connections</a></li>
<li class="toctree-l2"><a class="reference internal" href="#securely-encrypting-network-traffic-to-oracle-database">Securely Encrypting Network Traffic to Oracle Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="#resetting-passwords">Resetting Passwords</a></li>
<li class="toctree-l2"><a class="reference internal" href="#connecting-to-autononmous-databases"><span class="toctree-expand"></span>Connecting to Autononmous Databases</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#install-the-wallet-and-network-configuration-files">Install the Wallet and Network Configuration Files</a></li>
<li class="toctree-l3"><a class="reference internal" href="#run-your-application">Run Your Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="#access-through-a-proxy">Access Through a Proxy</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#connecting-to-sharded-databases">Connecting to Sharded Databases</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/user_guide/sql_execution.html">SQL Execution</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/user_guide/plsql_execution.html">PL/SQL Execution</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/user_guide/bind.html">Using Bind Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/user_guide/lob_data.html">Using CLOB and BLOB Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/user_guide/json_data_type.html">Working with the JSON Data Type</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/user_guide/soda.html">Simple Oracle Document Access (SODA)</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/user_guide/xml_data_type.html">Working with XMLTYPE</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/user_guide/batch_statement.html">Batch Statement Execution and Bulk Loading</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/user_guide/exception_handling.html">Exception Handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/user_guide/aq.html">Oracle Advanced Queuing (AQ)</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/user_guide/cqn.html">Continuous Query Notification (CQN)</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/user_guide/txn_management.html">Transaction Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/user_guide/tuning.html">Tuning cx_Oracle</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/user_guide/globalization.html">Character Sets and Globalization</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/user_guide/startup.html">Starting and Stopping Oracle Database</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/user_guide/ha.html">High Availability with cx_Oracle</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/user_guide/tracing_sql.html">Tracing SQL and PL/SQL Statements</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/api_manual/module.html">Module Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/api_manual/connection.html">Connection Object</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/api_manual/cursor.html">Cursor Object</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/api_manual/variable.html">Variable Objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/api_manual/session_pool.html">SessionPool Object</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/api_manual/subscription.html">Subscription Object</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/api_manual/lob.html">LOB Objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/api_manual/object_type.html">Object Type Objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/api_manual/aq.html">Advanced Queuing (AQ)</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/api_manual/soda.html">Soda Document Class</a></li>
</ul>

            
          
        </div>
      <div id="rtd-wne945fg" class="ethical-rtd ethical-dark-theme"></div><div id="rtd-d78ba6y1f" class="keep-us-sustainable"><p>Support Read the Docs!</p><p>Please help keep us sustainable by <a href="https://docs.readthedocs.io/en/latest/advertising/ad-blocking.html#allowing-ethical-ads">allowing our Ethical Ads in your ad blocker</a> or <a href="https://readthedocs.org/sustainability/">go ad-free</a> by subscribing.</p><p>Thank you! ❤️</p></div></div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="https://cx-oracle.readthedocs.io/en/latest/index.html">cx_Oracle</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="https://cx-oracle.readthedocs.io/en/latest/index.html">Docs</a> »</li>
        
      <li>Connecting to Oracle Database</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/oracle/python-cx_Oracle/blob/master/doc/src/user_guide/connection_handling.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="connecting-to-oracle-database">
<span id="connhandling"></span><h1>Connecting to Oracle Database<a class="headerlink" href="#connecting-to-oracle-database" title="Permalink to this headline">¶</a></h1>
<p>Connections between cx_Oracle and Oracle Database are used for executing
<a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/user_guide/sql_execution.html#sqlexecution"><span class="std std-ref">SQL</span></a>, <a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/user_guide/plsql_execution.html#plsqlexecution"><span class="std std-ref">PL/SQL</span></a>, and <a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/user_guide/soda.html#sodausermanual"><span class="std std-ref">SODA</span></a>.</p>
<div class="section" id="establishing-database-connections">
<h2>Establishing Database Connections<a class="headerlink" href="#establishing-database-connections" title="Permalink to this headline">¶</a></h2>
<p>There are two ways to connect to Oracle Database using cx_Oracle:</p>
<ul>
<li><p class="first"><strong>Standalone connections</strong></p>
<p>These are useful when the application maintains a single user
session to a database.  Connections are created by
<a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/api_manual/module.html#cx_Oracle.connect" title="cx_Oracle.connect"><code class="xref py py-meth docutils literal notranslate"><span class="pre">cx_Oracle.connect()</span></code></a> or its alias
<a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/api_manual/module.html#cx_Oracle.Connection" title="cx_Oracle.Connection"><code class="xref py py-meth docutils literal notranslate"><span class="pre">cx_Oracle.Connection()</span></code></a>.</p>
</li>
<li><p class="first"><strong>Pooled connections</strong></p>
<p>Connection pooling is important for performance when applications
frequently connect and disconnect from the database.  Oracle high
availability features in the pool implementation mean that small
pools can also be useful for applications that want a few
connections available for infrequent use.  Pools are created with
<a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/api_manual/module.html#cx_Oracle.SessionPool" title="cx_Oracle.SessionPool"><code class="xref py py-meth docutils literal notranslate"><span class="pre">cx_Oracle.SessionPool()</span></code></a> and then
<a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/api_manual/session_pool.html#SessionPool.acquire" title="SessionPool.acquire"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SessionPool.acquire()</span></code></a> can be called to obtain a connection
from a pool.</p>
</li>
</ul>
<p>Many connection behaviors can be controlled by cx_Oracle options.  Other
settings can be configured in <a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/user_guide/initialization.html#optnetfiles"><span class="std std-ref">Optional Oracle Net Configuration Files</span></a> or in <a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/user_guide/initialization.html#optclientfiles"><span class="std std-ref">Optional Oracle Client Configuration Files</span></a>.
These include limiting the amount of time that opening a connection can take, or
enabling <a class="reference internal" href="#netencrypt"><span class="std std-ref">network encryption</span></a>.</p>
<p><strong>Example: Standalone Connection to Oracle Database</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">cx_Oracle</span>

<span class="n">userpwd</span> <span class="o">=</span> <span class="s2">". . ."</span> <span class="c1"># Obtain password string from a user prompt or environment variable</span>

<span class="n">connection</span> <span class="o">=</span> <span class="n">cx_Oracle</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">"hr"</span><span class="p">,</span> <span class="n">userpwd</span><span class="p">,</span> <span class="s2">"dbhost.example.com/orclpdb1"</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">"UTF-8"</span><span class="p">)</span>
</pre></div>
</div>
<p>cx_Oracle also supports <a class="reference internal" href="#extauth"><span class="std std-ref">external authentication</span></a> so
passwords do not need to be in the application.</p>
</div>
<div class="section" id="closing-connections">
<h2>Closing Connections<a class="headerlink" href="#closing-connections" title="Permalink to this headline">¶</a></h2>
<p>Connections should be released when they are no longer needed by calling
<a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/api_manual/connection.html#Connection.close" title="Connection.close"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.close()</span></code></a>.  Alternatively, you may prefer to let connections
be automatically cleaned up when references to them go out of scope.  This lets
cx_Oracle close dependent resources in the correct order. One other approach is
the use of a “with” block, which ensures that a connection is closed once the
block is completed. For example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">cx_Oracle</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">userName</span><span class="p">,</span> <span class="n">password</span><span class="p">,</span> <span class="s2">"dbhost.example.com/orclpdb1"</span><span class="p">,</span>
            <span class="n">encoding</span><span class="o">=</span><span class="s2">"UTF-8"</span><span class="p">)</span> <span class="k">as</span> <span class="n">connection</span><span class="p">:</span>
    <span class="n">cursor</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
    <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">"insert into SomeTable values (:1, :2)"</span><span class="p">,</span>
            <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s2">"Some string"</span><span class="p">))</span>
    <span class="n">connection</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
</pre></div>
</div>
<p>This code ensures that, once the block is completed, the connection is closed
and resources have been reclaimed by the database. In addition, any attempt to
use the variable <code class="docutils literal notranslate"><span class="pre">connection</span></code> outside of the block will simply fail.</p>
</div>
<div class="section" id="connection-strings">
<span id="connstr"></span><h2>Connection Strings<a class="headerlink" href="#connection-strings" title="Permalink to this headline">¶</a></h2>
<p>The data source name parameter <code class="docutils literal notranslate"><span class="pre">dsn</span></code> of <a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/api_manual/module.html#cx_Oracle.connect" title="cx_Oracle.connect"><code class="xref py py-meth docutils literal notranslate"><span class="pre">cx_Oracle.connect()</span></code></a> and
<a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/api_manual/module.html#cx_Oracle.SessionPool" title="cx_Oracle.SessionPool"><code class="xref py py-meth docutils literal notranslate"><span class="pre">cx_Oracle.SessionPool()</span></code></a> is the Oracle Database connection string
identifying which database service to connect to. The <code class="docutils literal notranslate"><span class="pre">dsn</span></code> string can be one
of:</p>
<ul class="simple">
<li>An Oracle Easy Connect string</li>
<li>An Oracle Net Connect Descriptor string</li>
<li>A Net Service Name mapping to a connect descriptor</li>
</ul>
<p>For more information about naming methods, see <a class="reference external" href="https://www.oracle.com/pls/topic/lookup?ctx=dblatest&amp;id=GUID-E5358DEA-D619-4B7B-A799-3D2F802500F1">Oracle Net Service Reference</a>.</p>
<div class="section" id="easy-connect-syntax-for-connection-strings">
<span id="easyconnect"></span><h3>Easy Connect Syntax for Connection Strings<a class="headerlink" href="#easy-connect-syntax-for-connection-strings" title="Permalink to this headline">¶</a></h3>
<p>An Easy Connect string is often the simplest connection string to use for the
data source name parameter <code class="docutils literal notranslate"><span class="pre">dsn</span></code> of <a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/api_manual/module.html#cx_Oracle.connect" title="cx_Oracle.connect"><code class="xref py py-meth docutils literal notranslate"><span class="pre">cx_Oracle.connect()</span></code></a> and
<a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/api_manual/module.html#cx_Oracle.SessionPool" title="cx_Oracle.SessionPool"><code class="xref py py-meth docutils literal notranslate"><span class="pre">cx_Oracle.SessionPool()</span></code></a>.  This method does not need configuration files
such as <code class="docutils literal notranslate"><span class="pre">tnsnames.ora</span></code>.</p>
<p>For example, to connect to the Oracle Database service <code class="docutils literal notranslate"><span class="pre">orclpdb1</span></code> that is
running on the host <code class="docutils literal notranslate"><span class="pre">dbhost.example.com</span></code> with the default Oracle
Database port 1521, use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">connection</span> <span class="o">=</span> <span class="n">cx_Oracle</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">"hr"</span><span class="p">,</span> <span class="n">userpwd</span><span class="p">,</span> <span class="s2">"dbhost.example.com/orclpdb1"</span><span class="p">,</span>
        <span class="n">encoding</span><span class="o">=</span><span class="s2">"UTF-8"</span><span class="p">)</span>
</pre></div>
</div>
<p>If the database is using a non-default port, it must be specified:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">connection</span> <span class="o">=</span> <span class="n">cx_Oracle</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">"hr"</span><span class="p">,</span> <span class="n">userpwd</span><span class="p">,</span> <span class="s2">"dbhost.example.com:1984/orclpdb1"</span><span class="p">,</span>
        <span class="n">encoding</span><span class="o">=</span><span class="s2">"UTF-8"</span><span class="p">)</span>
</pre></div>
</div>
<p>The Easy Connect syntax supports Oracle Database service names.  It cannot be
used with the older System Identifiers (SID).</p>
<p>The Easy Connect syntax has been extended in recent versions of Oracle Database
client since its introduction in 10g.  Check the Easy Connect Naming method in
<a class="reference external" href="https://www.oracle.com/pls/topic/lookup?ctx=dblatest&amp;id=GUID-B0437826-43C1-49EC-A94D-B650B6A4A6EE">Oracle Net Service Administrator’s Guide</a> for the syntax to use in your
version of the Oracle Client libraries.</p>
<p>If you are using Oracle Client 19c, the latest <a class="reference external" href="https://www.oracle.com/pls/topic/lookup?ctx=dblatest&amp;id=GUID-8C85D289-6AF3-41BC-848B-BF39D32648BA">Easy Connect Plus</a> syntax allows the use of
multiple hosts or ports, along with optional entries for the wallet location,
the distinguished name of the database server, and even lets some network
configuration options be set. This means that a <a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/user_guide/initialization.html#optnetfiles"><span class="std std-ref">sqlnet.ora</span></a>
file is not needed for some common connection scenarios.</p>
</div>
<div class="section" id="oracle-net-connect-descriptor-strings">
<h3>Oracle Net Connect Descriptor Strings<a class="headerlink" href="#oracle-net-connect-descriptor-strings" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/api_manual/module.html#cx_Oracle.makedsn" title="cx_Oracle.makedsn"><code class="xref py py-meth docutils literal notranslate"><span class="pre">cx_Oracle.makedsn()</span></code></a> function can be used to construct a connect
descriptor string for the data source name parameter <code class="docutils literal notranslate"><span class="pre">dsn</span></code> of
<a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/api_manual/module.html#cx_Oracle.connect" title="cx_Oracle.connect"><code class="xref py py-meth docutils literal notranslate"><span class="pre">cx_Oracle.connect()</span></code></a> and <a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/api_manual/module.html#cx_Oracle.SessionPool" title="cx_Oracle.SessionPool"><code class="xref py py-meth docutils literal notranslate"><span class="pre">cx_Oracle.SessionPool()</span></code></a>.  The
<a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/api_manual/module.html#cx_Oracle.makedsn" title="cx_Oracle.makedsn"><code class="xref py py-meth docutils literal notranslate"><span class="pre">makedsn()</span></code></a> function accepts the database hostname, the port
number, and the service name.  It also supports <a class="reference internal" href="#connsharding"><span class="std std-ref">sharding</span></a>
syntax.</p>
<p>For example, to connect to the Oracle Database service <code class="docutils literal notranslate"><span class="pre">orclpdb1</span></code> that is
running on the host <code class="docutils literal notranslate"><span class="pre">dbhost.example.com</span></code> with the default Oracle
Database port 1521, use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dsn</span> <span class="o">=</span> <span class="n">cx_Oracle</span><span class="o">.</span><span class="n">makedsn</span><span class="p">(</span><span class="s2">"dbhost.example.com"</span><span class="p">,</span> <span class="mi">1521</span><span class="p">,</span> <span class="n">service_name</span><span class="o">=</span><span class="s2">"orclpdb1"</span><span class="p">)</span>
<span class="n">connection</span> <span class="o">=</span> <span class="n">cx_Oracle</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">"hr"</span><span class="p">,</span> <span class="n">userpwd</span><span class="p">,</span> <span class="n">dsn</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">"UTF-8"</span><span class="p">)</span>
</pre></div>
</div>
<p>Note the use of the named argument <code class="docutils literal notranslate"><span class="pre">service_name</span></code>.  By default, the third
parameter of <a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/api_manual/module.html#cx_Oracle.makedsn" title="cx_Oracle.makedsn"><code class="xref py py-meth docutils literal notranslate"><span class="pre">makedsn()</span></code></a> is a database System Identifier (SID),
not a service name.  However, almost all current databases use service names.</p>
<p>The value of <code class="docutils literal notranslate"><span class="pre">dsn</span></code> in this example is the connect descriptor string:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">DESCRIPTION</span><span class="o">=</span><span class="p">(</span><span class="n">ADDRESS</span><span class="o">=</span><span class="p">(</span><span class="n">PROTOCOL</span><span class="o">=</span><span class="n">TCP</span><span class="p">)(</span><span class="n">HOST</span><span class="o">=</span><span class="n">dbhost</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">com</span><span class="p">)(</span><span class="n">PORT</span><span class="o">=</span><span class="mi">1521</span><span class="p">))(</span><span class="n">CONNECT_DATA</span><span class="o">=</span><span class="p">(</span><span class="n">SERVICE_NAME</span><span class="o">=</span><span class="n">orclpdb1</span><span class="p">)))</span>
</pre></div>
</div>
<p>You can manually create similar connect descriptor strings.  This lets you
extend the syntax, for example to support failover.  These strings can be
embedded directly in the application:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dsn</span> <span class="o">=</span> <span class="s2">"""(DESCRIPTION=</span>
<span class="s2">             (FAILOVER=on)</span>
<span class="s2">             (ADDRESS_LIST=</span>
<span class="s2">               (ADDRESS=(PROTOCOL=tcp)(HOST=sales1-svr)(PORT=1521))</span>
<span class="s2">               (ADDRESS=(PROTOCOL=tcp)(HOST=sales2-svr)(PORT=1521)))</span>
<span class="s2">             (CONNECT_DATA=(SERVICE_NAME=sales.example.com)))"""</span>

<span class="n">connection</span> <span class="o">=</span> <span class="n">cx_Oracle</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">"hr"</span><span class="p">,</span> <span class="n">userpwd</span><span class="p">,</span> <span class="n">dsn</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">"UTF-8"</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="net-service-names-for-connection-strings">
<span id="netservice"></span><h3>Net Service Names for Connection Strings<a class="headerlink" href="#net-service-names-for-connection-strings" title="Permalink to this headline">¶</a></h3>
<p>Connect Descriptor Strings are commonly stored in a <a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/user_guide/initialization.html#optnetfiles"><span class="std std-ref">tnsnames.ora</span></a> file and associated with a Net Service Name.  This name can be
used directly for the data source name parameter <code class="docutils literal notranslate"><span class="pre">dsn</span></code> of
<a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/api_manual/module.html#cx_Oracle.connect" title="cx_Oracle.connect"><code class="xref py py-meth docutils literal notranslate"><span class="pre">cx_Oracle.connect()</span></code></a> and <a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/api_manual/module.html#cx_Oracle.SessionPool" title="cx_Oracle.SessionPool"><code class="xref py py-meth docutils literal notranslate"><span class="pre">cx_Oracle.SessionPool()</span></code></a>.  For example,
given a <code class="docutils literal notranslate"><span class="pre">tnsnames.ora</span></code> file with the following contents:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ORCLPDB1</span> <span class="o">=</span>
  <span class="p">(</span><span class="n">DESCRIPTION</span> <span class="o">=</span>
    <span class="p">(</span><span class="n">ADDRESS</span> <span class="o">=</span> <span class="p">(</span><span class="n">PROTOCOL</span> <span class="o">=</span> <span class="n">TCP</span><span class="p">)(</span><span class="n">HOST</span> <span class="o">=</span> <span class="n">dbhost</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">com</span><span class="p">)(</span><span class="n">PORT</span> <span class="o">=</span> <span class="mi">1521</span><span class="p">))</span>
    <span class="p">(</span><span class="n">CONNECT_DATA</span> <span class="o">=</span>
      <span class="p">(</span><span class="n">SERVER</span> <span class="o">=</span> <span class="n">DEDICATED</span><span class="p">)</span>
      <span class="p">(</span><span class="n">SERVICE_NAME</span> <span class="o">=</span> <span class="n">orclpdb1</span><span class="p">)</span>
    <span class="p">)</span>
  <span class="p">)</span>
</pre></div>
</div>
<p>then you could connect using the following code:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">connection</span> <span class="o">=</span> <span class="n">cx_Oracle</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">"hr"</span><span class="p">,</span> <span class="n">userpwd</span><span class="p">,</span> <span class="s2">"orclpdb1"</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">"UTF-8"</span><span class="p">)</span>
</pre></div>
</div>
<p>For more information about Net Service Names, see
<a class="reference external" href="https://www.oracle.com/pls/topic/lookup?ctx=dblatest&amp;id=GUID-12C94B15-2CE1-4B98-9D0C-8226A9DDF4CB">Database Net Services Reference</a>.</p>
</div>
<div class="section" id="jdbc-and-oracle-sql-developer-connection-strings">
<h3>JDBC and Oracle SQL Developer Connection Strings<a class="headerlink" href="#jdbc-and-oracle-sql-developer-connection-strings" title="Permalink to this headline">¶</a></h3>
<p>The cx_Oracle connection string syntax is different to Java JDBC and the common
Oracle SQL Developer syntax.  If these JDBC connection strings reference a
service name like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">jdbc</span><span class="p">:</span><span class="n">oracle</span><span class="p">:</span><span class="n">thin</span><span class="p">:</span><span class="nd">@hostname</span><span class="p">:</span><span class="n">port</span><span class="o">/</span><span class="n">service_name</span>
</pre></div>
</div>
<p>for example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">jdbc</span><span class="p">:</span><span class="n">oracle</span><span class="p">:</span><span class="n">thin</span><span class="p">:</span><span class="nd">@dbhost</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">com</span><span class="p">:</span><span class="mi">1521</span><span class="o">/</span><span class="n">orclpdb1</span>
</pre></div>
</div>
<p>then use Oracle’s Easy Connect syntax in cx_Oracle:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">connection</span> <span class="o">=</span> <span class="n">cx_Oracle</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">"hr"</span><span class="p">,</span> <span class="n">userpwd</span><span class="p">,</span> <span class="s2">"dbhost.example.com:1521/orclpdb1"</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">"UTF-8"</span><span class="p">)</span>
</pre></div>
</div>
<p>Alternatively, if a JDBC connection string uses an old-style Oracle SID “system
identifier”, and the database does not have a service name:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">jdbc</span><span class="p">:</span><span class="n">oracle</span><span class="p">:</span><span class="n">thin</span><span class="p">:</span><span class="nd">@hostname</span><span class="p">:</span><span class="n">port</span><span class="p">:</span><span class="n">sid</span>
</pre></div>
</div>
<p>for example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">jdbc</span><span class="p">:</span><span class="n">oracle</span><span class="p">:</span><span class="n">thin</span><span class="p">:</span><span class="nd">@dbhost</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">com</span><span class="p">:</span><span class="mi">1521</span><span class="p">:</span><span class="n">orcl</span>
</pre></div>
</div>
<p>then a connect descriptor string from <code class="docutils literal notranslate"><span class="pre">makedsn()</span></code> can be used in the
application:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dsn</span> <span class="o">=</span> <span class="n">cx_Oracle</span><span class="o">.</span><span class="n">makedsn</span><span class="p">(</span><span class="s2">"dbhost.example.com"</span><span class="p">,</span> <span class="mi">1521</span><span class="p">,</span> <span class="n">sid</span><span class="o">=</span><span class="s2">"orcl"</span><span class="p">)</span>
<span class="n">connection</span> <span class="o">=</span> <span class="n">cx_Oracle</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">"hr"</span><span class="p">,</span> <span class="n">userpwd</span><span class="p">,</span> <span class="n">dsn</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">"UTF-8"</span><span class="p">)</span>
</pre></div>
</div>
<p>Alternatively, create a <code class="docutils literal notranslate"><span class="pre">tnsnames.ora</span></code> (see <a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/user_guide/initialization.html#optnetfiles"><span class="std std-ref">Optional Oracle Net Configuration Files</span></a>) entry, for
example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">finance</span> <span class="o">=</span>
 <span class="p">(</span><span class="n">DESCRIPTION</span> <span class="o">=</span>
   <span class="p">(</span><span class="n">ADDRESS</span> <span class="o">=</span> <span class="p">(</span><span class="n">PROTOCOL</span> <span class="o">=</span> <span class="n">TCP</span><span class="p">)(</span><span class="n">HOST</span> <span class="o">=</span> <span class="n">dbhost</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">com</span><span class="p">)(</span><span class="n">PORT</span> <span class="o">=</span> <span class="mi">1521</span><span class="p">))</span>
   <span class="p">(</span><span class="n">CONNECT_DATA</span> <span class="o">=</span>
     <span class="p">(</span><span class="n">SID</span> <span class="o">=</span> <span class="n">ORCL</span><span class="p">)</span>
   <span class="p">)</span>
 <span class="p">)</span>
</pre></div>
</div>
<p>This can be referenced in cx_Oracle:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">connection</span> <span class="o">=</span> <span class="n">cx_Oracle</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">"hr"</span><span class="p">,</span> <span class="n">userpwd</span><span class="p">,</span> <span class="s2">"finance"</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">"UTF-8"</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="connection-pooling">
<span id="connpool"></span><h2>Connection Pooling<a class="headerlink" href="#connection-pooling" title="Permalink to this headline">¶</a></h2>
<p>cx_Oracle’s connection pooling lets applications create and maintain a pool of
connections to the database.  The internal implementation uses Oracle’s
<a class="reference external" href="https://www.oracle.com/pls/topic/lookup?ctx=dblatest&amp;id=GUID-F9662FFB-EAEF-495C-96FC-49C6D1D9625C">session pool technology</a>.
In general, each connection in a cx_Oracle connection pool corresponds to one
Oracle session.</p>
<p>A connection pool is created by calling <a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/api_manual/module.html#cx_Oracle.SessionPool" title="cx_Oracle.SessionPool"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SessionPool()</span></code></a>.  This
is generally called during application initialization.  Connections can then be
obtained from a pool by calling <a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/api_manual/session_pool.html#SessionPool.acquire" title="SessionPool.acquire"><code class="xref py py-meth docutils literal notranslate"><span class="pre">acquire()</span></code></a>.  The initial
pool size and the maximum pool size are provided at the time of pool creation.
When the pool needs to grow, new connections are created automatically.  The
pool can shrink back to the minimum size when connections are no longer in use.</p>
<p>Connections acquired from the pool should be released back to the pool using
<a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/api_manual/session_pool.html#SessionPool.release" title="SessionPool.release"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SessionPool.release()</span></code></a> or <a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/api_manual/connection.html#Connection.close" title="Connection.close"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.close()</span></code></a> when they are no
longer required.  Otherwise, they will be released back to the pool
automatically when all of the variables referencing the connection go out of
scope.  The session pool can be completely closed using
<a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/api_manual/session_pool.html#SessionPool.close" title="SessionPool.close"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SessionPool.close()</span></code></a>.</p>
<p>The example below shows how to connect to Oracle Database using a
connection pool:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create the session pool</span>
<span class="n">pool</span> <span class="o">=</span> <span class="n">cx_Oracle</span><span class="o">.</span><span class="n">SessionPool</span><span class="p">(</span><span class="s2">"hr"</span><span class="p">,</span> <span class="n">userpwd</span><span class="p">,</span>
        <span class="s2">"dbhost.example.com/orclpdb1"</span><span class="p">,</span> <span class="nb">min</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">increment</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">"UTF-8"</span><span class="p">)</span>

<span class="c1"># Acquire a connection from the pool</span>
<span class="n">connection</span> <span class="o">=</span> <span class="n">pool</span><span class="o">.</span><span class="n">acquire</span><span class="p">()</span>

<span class="c1"># Use the pooled connection</span>
<span class="n">cursor</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
<span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">"select * from mytab"</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

<span class="c1"># Release the connection to the pool</span>
<span class="n">pool</span><span class="o">.</span><span class="n">release</span><span class="p">(</span><span class="n">connection</span><span class="p">)</span>

<span class="c1"># Close the pool</span>
<span class="n">pool</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
<p>Applications that are using connections concurrently in multiple threads should
set the <code class="docutils literal notranslate"><span class="pre">threaded</span></code> parameter to <em>True</em> when creating a connection pool:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create the session pool</span>
<span class="n">pool</span> <span class="o">=</span> <span class="n">cx_Oracle</span><span class="o">.</span><span class="n">SessionPool</span><span class="p">(</span><span class="s2">"hr"</span><span class="p">,</span> <span class="n">userpwd</span><span class="p">,</span> <span class="s2">"dbhost.example.com/orclpdb1"</span><span class="p">,</span>
              <span class="nb">min</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">increment</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">threaded</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">"UTF-8"</span><span class="p">)</span>
</pre></div>
</div>
<p>See <a class="reference external" href="https://github.com/oracle/python-cx_Oracle/tree/master/samples/ConnectionPool.py">ConnectionPool.py</a>
for an example.</p>
<p>Before <a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/api_manual/session_pool.html#SessionPool.acquire" title="SessionPool.acquire"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SessionPool.acquire()</span></code></a> returns, cx_Oracle does a lightweight check
to see if the network transport for the selected connection is still open.  If
it is not, then <a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/api_manual/session_pool.html#SessionPool.acquire" title="SessionPool.acquire"><code class="xref py py-meth docutils literal notranslate"><span class="pre">acquire()</span></code></a> will clean up the connection and
return a different one.  This check will not detect cases such as where the
database session has been killed by the DBA, or reached a database resource
manager quota limit.  To help in those cases, <a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/api_manual/session_pool.html#SessionPool.acquire" title="SessionPool.acquire"><code class="xref py py-meth docutils literal notranslate"><span class="pre">acquire()</span></code></a>
will also do a full <a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/user_guide/tuning.html#roundtrips"><span class="std std-ref">round-trip</span></a> ping to the database when it
is about to return a connection that was unused in the pool for 60 seconds.  If
the ping fails, the connection will be discarded and another one obtained before
<a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/api_manual/session_pool.html#SessionPool.acquire" title="SessionPool.acquire"><code class="xref py py-meth docutils literal notranslate"><span class="pre">acquire()</span></code></a> returns to the application.  Because this full
ping is time based, it won’t catch every failure.  Also since network timeouts
and session kills may occur after <a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/api_manual/session_pool.html#SessionPool.acquire" title="SessionPool.acquire"><code class="xref py py-meth docutils literal notranslate"><span class="pre">acquire()</span></code></a> and before
<a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/api_manual/cursor.html#Cursor.execute" title="Cursor.execute"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Cursor.execute()</span></code></a>, applications need to check for errors after each
<a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/api_manual/cursor.html#Cursor.execute" title="Cursor.execute"><code class="xref py py-meth docutils literal notranslate"><span class="pre">execute()</span></code></a> and make application-specific decisions about retrying
work if there was a connection failure.  Note both the lightweight and full ping
connection checks can mask configuration issues, for example firewalls killing
connections, so monitor the connection rate in AWR for an unexpected value.  You
can explicitly initiate a full ping to check connection liveness with
<a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/api_manual/connection.html#Connection.ping" title="Connection.ping"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.ping()</span></code></a> but overuse will impact performance and scalability.</p>
<p>The Oracle Real-World Performance Group’s recommendation is to use fixed size
connection pools.  The values of min and max should be the same (and the
increment equal to zero).  The <a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/user_guide/ha.html#hanetwork"><span class="std std-ref">firewall</span></a>, <a class="reference external" href="https://www.oracle.com/pls/topic/lookup?ctx=dblatest&amp;id=GUID-2BEF5482-CF97-4A85-BD90-9195E41E74EF">resource manager</a>
or user profile <a class="reference external" href="https://www.oracle.com/pls/topic/lookup?ctx=dblatest&amp;id=GUID-ABC7AE4D-64A8-4EA9-857D-BEF7300B64C3">IDLE_TIME</a>
should not expire idle sessions.  This avoids connection storms which can
decrease throughput.  See <a class="reference external" href="https://www.oracle.com/pls/topic/lookup?ctx=dblatest&amp;id=GUID-7DFBA826-7CC0-4D16-B19C-31D168069B54">Guideline for Preventing Connection Storms: Use
Static Pools</a>,
which contains details about sizing of pools.</p>
<p>The Real-World Performance Group also recommends keeping pool sizes small, as
they may perform better than larger pools. The pool attributes should be
adjusted to handle the desired workload within the bounds of available resources
in cx_Oracle and the database.</p>
<div class="section" id="session-callbacks-for-setting-pooled-connection-state">
<span id="sessioncallback"></span><h3>Session CallBacks for Setting Pooled Connection State<a class="headerlink" href="#session-callbacks-for-setting-pooled-connection-state" title="Permalink to this headline">¶</a></h3>
<p>Applications can set “session” state in each connection.  Examples of session
state are NLS settings from <code class="docutils literal notranslate"><span class="pre">ALTER</span> <span class="pre">SESSION</span></code> statements.  Pooled connections
will retain their session state after they have been released back to the pool.
However, because pools can grow, or connections in the pool can be recreated,
there is no guarantee a subsequent <a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/api_manual/session_pool.html#SessionPool.acquire" title="SessionPool.acquire"><code class="xref py py-meth docutils literal notranslate"><span class="pre">acquire()</span></code></a> call will
return a database connection that has any particular state.</p>
<p>The <a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/api_manual/module.html#cx_Oracle.SessionPool" title="cx_Oracle.SessionPool"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SessionPool()</span></code></a> parameter <code class="docutils literal notranslate"><span class="pre">sessionCallback</span></code>
enables efficient setting of session state so that connections have a
known session state, without requiring that state to be explicitly set
after each <a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/api_manual/session_pool.html#SessionPool.acquire" title="SessionPool.acquire"><code class="xref py py-meth docutils literal notranslate"><span class="pre">acquire()</span></code></a> call.</p>
<p>Connections can also be tagged when they are released back to the pool.  The
tag is a user-defined string that represents the session state of the
connection.  When acquiring connections, a particular tag can be requested.  If
a connection with that tag is available, it will be returned.  If not, then
another session will be returned.  By comparing the actual and requested tags,
applications can determine what exact state a session has, and make any
necessary changes.</p>
<p>The session callback can be a Python function or a PL/SQL procedure.</p>
<p>There are three common scenarios for <code class="docutils literal notranslate"><span class="pre">sessionCallback</span></code>:</p>
<ul class="simple">
<li>When all connections in the pool should have the same state, use a
Python callback without tagging.</li>
<li>When connections in the pool require different state for different
users, use a Python callback with tagging.</li>
<li>When using <a class="reference internal" href="#drcp"><span class="std std-ref">Database Resident Connection Pooling (DRCP)</span></a>: use a PL/SQL callback with tagging.</li>
</ul>
<p><strong>Python Callback</strong></p>
<p>If the <code class="docutils literal notranslate"><span class="pre">sessionCallback</span></code> parameter is a Python procedure, it will be called
whenever <a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/api_manual/session_pool.html#SessionPool.acquire" title="SessionPool.acquire"><code class="xref py py-meth docutils literal notranslate"><span class="pre">acquire()</span></code></a> will return a newly created database
connection that has not been used before.  It is also called when connection
tagging is being used and the requested tag is not identical to the tag in the
connection returned by the pool.</p>
<p>An example is:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Set the NLS_DATE_FORMAT for a session</span>
<span class="k">def</span> <span class="nf">initSession</span><span class="p">(</span><span class="n">connection</span><span class="p">,</span> <span class="n">requestedTag</span><span class="p">):</span>
    <span class="n">cursor</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
    <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">"ALTER SESSION SET NLS_DATE_FORMAT = 'YYYY-MM-DD HH24:MI'"</span><span class="p">)</span>

<span class="c1"># Create the pool with session callback defined</span>
<span class="n">pool</span> <span class="o">=</span> <span class="n">cx_Oracle</span><span class="o">.</span><span class="n">SessionPool</span><span class="p">(</span><span class="s2">"hr"</span><span class="p">,</span> <span class="n">userpwd</span><span class="p">,</span> <span class="s2">"orclpdb1"</span><span class="p">,</span>
                     <span class="n">sessionCallback</span><span class="o">=</span><span class="n">initSession</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">"UTF-8"</span><span class="p">)</span>

<span class="c1"># Acquire a connection from the pool (will always have the new date format)</span>
<span class="n">connection</span> <span class="o">=</span> <span class="n">pool</span><span class="o">.</span><span class="n">acquire</span><span class="p">()</span>
</pre></div>
</div>
<p>If needed, the <code class="docutils literal notranslate"><span class="pre">initSession()</span></code> procedure is called internally before
<code class="docutils literal notranslate"><span class="pre">acquire()</span></code> returns.  It will not be called when previously used connections
are returned from the pool.  This means that the ALTER SESSION does not need to
be executed after every <code class="docutils literal notranslate"><span class="pre">acquire()</span></code> call.  This improves performance and
scalability.</p>
<p>In this example tagging was not being used, so the <code class="docutils literal notranslate"><span class="pre">requestedTag</span></code> parameter
is ignored.</p>
<p>Note: if you need to execute multiple SQL statements in the callback, use an
anonymous PL/SQL block to save <a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/user_guide/tuning.html#roundtrips"><span class="std std-ref">round-trips</span></a> of repeated
<code class="docutils literal notranslate"><span class="pre">execute()</span></code> calls.  With ALTER SESSION, pass multiple settings in the one
statement:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">"""</span>
<span class="s2">        begin</span>
<span class="s2">            execute immediate</span>
<span class="s2">                    'alter session set nls_date_format = ''YYYY-MM-DD'' nls_language = AMERICAN';</span>
<span class="s2">            -- other SQL statements could be put here</span>
<span class="s2">        end;"""</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Connection Tagging</strong></p>
<p>Connection tagging is used when connections in a pool should have differing
session states.  In order to retrieve a connection with a desired state, the
<code class="docutils literal notranslate"><span class="pre">tag</span></code> attribute in <a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/api_manual/session_pool.html#SessionPool.acquire" title="SessionPool.acquire"><code class="xref py py-meth docutils literal notranslate"><span class="pre">acquire()</span></code></a> needs to be set.</p>
<p>When cx_Oracle is using Oracle Client libraries 12.2 or later, then cx_Oracle
uses ‘multi-property tags’ and the tag string must be of the form of one or
more “name=value” pairs separated by a semi-colon, for example
<code class="docutils literal notranslate"><span class="pre">"loc=uk;lang=cy"</span></code>.</p>
<p>When a connection is requested with a given tag, and a connection with that tag
is not present in the pool, then a new connection, or an existing connection
with cleaned session state, will be chosen by the pool and the session callback
procedure will be invoked.  The callback can then set desired session state and
update the connection’s tag.  However if the <code class="docutils literal notranslate"><span class="pre">matchanytag</span></code> parameter of
<a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/api_manual/session_pool.html#SessionPool.acquire" title="SessionPool.acquire"><code class="xref py py-meth docutils literal notranslate"><span class="pre">acquire()</span></code></a> is <em>True</em>, then any other tagged connection may
be chosen by the pool and the callback procedure should parse the actual and
requested tags to determine which bits of session state should be reset.</p>
<p>The example below demonstrates connection tagging:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">initSession</span><span class="p">(</span><span class="n">connection</span><span class="p">,</span> <span class="n">requestedTag</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">requestedTag</span> <span class="o">==</span> <span class="s2">"NLS_DATE_FORMAT=SIMPLE"</span><span class="p">:</span>
        <span class="n">sql</span> <span class="o">=</span> <span class="s2">"ALTER SESSION SET NLS_DATE_FORMAT = 'YYYY-MM-DD'"</span>
    <span class="k">elif</span> <span class="n">requestedTag</span> <span class="o">==</span> <span class="s2">"NLS_DATE_FORMAT=FULL"</span><span class="p">:</span>
        <span class="n">sql</span> <span class="o">=</span> <span class="s2">"ALTER SESSION SET NLS_DATE_FORMAT = 'YYYY-MM-DD HH24:MI'"</span>
    <span class="n">cursor</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
    <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql</span><span class="p">)</span>
    <span class="n">connection</span><span class="o">.</span><span class="n">tag</span> <span class="o">=</span> <span class="n">requestedTag</span>

<span class="n">pool</span> <span class="o">=</span> <span class="n">cx_Oracle</span><span class="o">.</span><span class="n">SessionPool</span><span class="p">(</span><span class="s2">"hr"</span><span class="p">,</span> <span class="n">userpwd</span><span class="p">,</span> <span class="s2">"orclpdb1"</span><span class="p">,</span>
                     <span class="n">sessionCallback</span><span class="o">=</span><span class="n">initSession</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">"UTF-8"</span><span class="p">)</span>

<span class="c1"># Two connections with different session state:</span>
<span class="n">connection1</span> <span class="o">=</span> <span class="n">pool</span><span class="o">.</span><span class="n">acquire</span><span class="p">(</span><span class="n">tag</span> <span class="o">=</span> <span class="s2">"NLS_DATE_FORMAT=SIMPLE"</span><span class="p">)</span>
<span class="n">connection2</span> <span class="o">=</span> <span class="n">pool</span><span class="o">.</span><span class="n">acquire</span><span class="p">(</span><span class="n">tag</span> <span class="o">=</span> <span class="s2">"NLS_DATE_FORMAT=FULL"</span><span class="p">)</span>
</pre></div>
</div>
<p>See <a class="reference external" href="https://github.com/oracle/python-cx_Oracle/tree/master/samples/SessionCallback.py">SessionCallback.py</a> for an example.</p>
<p><strong>PL/SQL Callback</strong></p>
<p>When cx_Oracle uses Oracle Client 12.2 or later, the session callback can also
be the name of a PL/SQL procedure.  A PL/SQL callback will be initiated only
when the tag currently associated with a connection does not match the tag that
is requested.  A PL/SQL callback is most useful when using <a class="reference internal" href="#drcp"><span class="std std-ref">Database Resident Connection Pooling (DRCP)</span></a> because
DRCP does not require a <a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/user_guide/tuning.html#roundtrips"><span class="std std-ref">round-trip</span></a> to invoke a PL/SQL
session callback procedure.</p>
<p>The PL/SQL session callback should accept two VARCHAR2 arguments:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">PROCEDURE</span> <span class="n">myPlsqlCallback</span> <span class="p">(</span>
    <span class="n">requestedTag</span> <span class="k">IN</span>  <span class="n">VARCHAR2</span><span class="p">,</span>
    <span class="n">actualTag</span>    <span class="k">IN</span>  <span class="n">VARCHAR2</span>
<span class="p">);</span>
</pre></div>
</div>
<p>The logic in this procedure can parse the actual tag in the session that has
been selected by the pool and compare it with the tag requested by the
application.  The procedure can then change any state required before the
connection is returned to the application from <a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/api_manual/session_pool.html#SessionPool.acquire" title="SessionPool.acquire"><code class="xref py py-meth docutils literal notranslate"><span class="pre">acquire()</span></code></a>.</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">matchanytag</span></code> attribute of <a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/api_manual/session_pool.html#SessionPool.acquire" title="SessionPool.acquire"><code class="xref py py-meth docutils literal notranslate"><span class="pre">acquire()</span></code></a> is <em>True</em>,
then a connection with any state may be chosen by the pool.</p>
<p>Oracle ‘multi-property tags’ must be used.  The tag string must be of the form
of one or more “name=value” pairs separated by a semi-colon, for example
<code class="docutils literal notranslate"><span class="pre">"loc=uk;lang=cy"</span></code>.</p>
<p>In cx_Oracle set <code class="docutils literal notranslate"><span class="pre">sessionCallback</span></code> to the name of the PL/SQL procedure. For
example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pool</span> <span class="o">=</span> <span class="n">cx_Oracle</span><span class="o">.</span><span class="n">SessionPool</span><span class="p">(</span><span class="s2">"hr"</span><span class="p">,</span> <span class="n">userpwd</span><span class="p">,</span> <span class="s2">"dbhost.example.com/orclpdb1:pooled"</span><span class="p">,</span>
                     <span class="n">sessionCallback</span><span class="o">=</span><span class="s2">"myPlsqlCallback"</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">"UTF-8"</span><span class="p">)</span>

<span class="n">connection</span> <span class="o">=</span> <span class="n">pool</span><span class="o">.</span><span class="n">acquire</span><span class="p">(</span><span class="n">tag</span><span class="o">=</span><span class="s2">"NLS_DATE_FORMAT=SIMPLE"</span><span class="p">,</span>
        <span class="c1"># DRCP options, if you are using DRCP</span>
        <span class="n">cclass</span><span class="o">=</span><span class="s1">'MYCLASS'</span><span class="p">,</span> <span class="n">purity</span><span class="o">=</span><span class="n">cx_Oracle</span><span class="o">.</span><span class="n">ATTR_PURITY_SELF</span><span class="p">)</span>
</pre></div>
</div>
<p>See <a class="reference external" href="https://github.com/oracle/python-cx_Oracle/tree/master/samples/SessionCallbackPLSQL.py">SessionCallbackPLSQL.py</a> for an example.</p>
</div>
<div class="section" id="heterogeneous-and-homogeneous-connection-pools">
<span id="connpooltypes"></span><h3>Heterogeneous and Homogeneous Connection Pools<a class="headerlink" href="#heterogeneous-and-homogeneous-connection-pools" title="Permalink to this headline">¶</a></h3>
<p>By default, connection pools are ‘homogeneous’, meaning that all connections
use the same database credentials.  However, if the pool option <code class="docutils literal notranslate"><span class="pre">homogeneous</span></code>
is False at the time of pool creation, then a ‘heterogeneous’ pool will be
created.  This allows different credentials to be used each time a connection
is acquired from the pool with <a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/api_manual/session_pool.html#SessionPool.acquire" title="SessionPool.acquire"><code class="xref py py-meth docutils literal notranslate"><span class="pre">acquire()</span></code></a>.</p>
<p><strong>Heterogeneous Pools</strong></p>
<p>When a heterogeneous pool is created by setting <code class="docutils literal notranslate"><span class="pre">homogeneous</span></code> to False and no
credentials are supplied during pool creation, then a user name and password
may be passed to <a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/api_manual/session_pool.html#SessionPool.acquire" title="SessionPool.acquire"><code class="xref py py-meth docutils literal notranslate"><span class="pre">acquire()</span></code></a> as shown in this example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pool</span> <span class="o">=</span> <span class="n">cx_Oracle</span><span class="o">.</span><span class="n">SessionPool</span><span class="p">(</span><span class="n">dsn</span><span class="o">=</span><span class="s2">"dbhost.example.com/orclpdb1"</span><span class="p">,</span> <span class="n">homogeneous</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
                     <span class="n">encoding</span><span class="o">=</span><span class="s2">"UTF-8"</span><span class="p">)</span>
<span class="n">connection</span> <span class="o">=</span> <span class="n">pool</span><span class="o">.</span><span class="n">acquire</span><span class="p">(</span><span class="n">user</span><span class="o">=</span><span class="s2">"hr"</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="n">userpwd</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="database-resident-connection-pooling-drcp">
<span id="drcp"></span><h2>Database Resident Connection Pooling (DRCP)<a class="headerlink" href="#database-resident-connection-pooling-drcp" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://www.oracle.com/pls/topic/lookup?ctx=dblatest&amp;id=GUID-015CA8C1-2386-4626-855D-CC546DDC1086">Database Resident Connection Pooling (DRCP)</a> enables database resource
sharing for applications that run in multiple client processes, or run on
multiple middle-tier application servers.  By default each connection from
Python will use one database server process.  DRCP allows pooling of these
server processes.  This reduces the amount of memory required on the database
host.  The DRCP pool can be shared by multiple applications.</p>
<p>DRCP is useful for applications which share the same database credentials, have
similar session settings (for example date format settings or PL/SQL package
state), and where the application gets a database connection, works on it for a
relatively short duration, and then releases it.</p>
<p>Applications can choose whether or not to use pooled connections at runtime.</p>
<p>For efficiency, it is recommended that DRCP connections should be used
in conjunction with cx_Oracle’s local <a class="reference internal" href="#connpool"><span class="std std-ref">connection pool</span></a>.</p>
<p><strong>Using DRCP in Python</strong></p>
<p>Using DRCP with cx_Oracle applications involves the following steps:</p>
<ol class="arabic simple">
<li>Configuring and enabling DRCP in the database</li>
<li>Configuring the application to use a DRCP connection</li>
<li>Deploying the application</li>
</ol>
<p><strong>Configuring and enabling DRCP</strong></p>
<p>Every instance of Oracle Database uses a single, default connection
pool. The pool can be configured and administered by a DBA using the
<code class="docutils literal notranslate"><span class="pre">DBMS_CONNECTION_POOL</span></code> package:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">EXECUTE</span> <span class="n">DBMS_CONNECTION_POOL</span><span class="p">.</span><span class="n">CONFIGURE_POOL</span><span class="p">(</span>
    <span class="n">pool_name</span> <span class="o">=&gt;</span> <span class="s1">'SYS_DEFAULT_CONNECTION_POOL'</span><span class="p">,</span>
    <span class="n">minsize</span> <span class="o">=&gt;</span> <span class="mi">4</span><span class="p">,</span>
    <span class="n">maxsize</span> <span class="o">=&gt;</span> <span class="mi">40</span><span class="p">,</span>
    <span class="n">incrsize</span> <span class="o">=&gt;</span> <span class="mi">2</span><span class="p">,</span>
    <span class="n">session_cached_cursors</span> <span class="o">=&gt;</span> <span class="mi">20</span><span class="p">,</span>
    <span class="n">inactivity_timeout</span> <span class="o">=&gt;</span> <span class="mi">300</span><span class="p">,</span>
    <span class="n">max_think_time</span> <span class="o">=&gt;</span> <span class="mi">600</span><span class="p">,</span>
    <span class="n">max_use_session</span> <span class="o">=&gt;</span> <span class="mi">500000</span><span class="p">,</span>
    <span class="n">max_lifetime_session</span> <span class="o">=&gt;</span> <span class="mi">86400</span><span class="p">)</span>
</pre></div>
</div>
<p>Alternatively the method <code class="docutils literal notranslate"><span class="pre">DBMS_CONNECTION_POOL.ALTER_PARAM()</span></code> can
set a single parameter:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">EXECUTE</span> <span class="n">DBMS_CONNECTION_POOL</span><span class="p">.</span><span class="n">ALTER_PARAM</span><span class="p">(</span>
    <span class="n">pool_name</span> <span class="o">=&gt;</span> <span class="s1">'SYS_DEFAULT_CONNECTION_POOL'</span><span class="p">,</span>
    <span class="n">param_name</span> <span class="o">=&gt;</span> <span class="s1">'MAX_THINK_TIME'</span><span class="p">,</span>
    <span class="n">param_value</span> <span class="o">=&gt;</span> <span class="s1">'1200'</span><span class="p">)</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">inactivity_timeout</span></code> setting terminates idle pooled servers, helping
optimize database resources.  To avoid pooled servers permanently being held
onto by a selfish Python script, the <code class="docutils literal notranslate"><span class="pre">max_think_time</span></code> parameter can be set.
The parameters <code class="docutils literal notranslate"><span class="pre">num_cbrok</span></code> and <code class="docutils literal notranslate"><span class="pre">maxconn_cbrok</span></code> can be used to distribute
the persistent connections from the clients across multiple brokers.  This may
be needed in cases where the operating system per-process descriptor limit is
small.  Some customers have found that having several connection brokers
improves performance.  The <code class="docutils literal notranslate"><span class="pre">max_use_session</span></code> and <code class="docutils literal notranslate"><span class="pre">max_lifetime_session</span></code>
parameters help protect against any unforeseen problems affecting server
processes.  The default values will be suitable for most users.  See the
<a class="reference external" href="https://www.oracle.com/pls/topic/lookup?ctx=dblatest&amp;id=GUID-015CA8C1-2386-4626-855D-CC546DDC1086">Oracle DRCP documentation</a> for details on parameters.</p>
<p>In general, if pool parameters are changed, the pool should be restarted,
otherwise server processes will continue to use old settings.</p>
<p>There is a <code class="docutils literal notranslate"><span class="pre">DBMS_CONNECTION_POOL.RESTORE_DEFAULTS()</span></code> procedure to
reset all values.</p>
<p>When DRCP is used with RAC, each database instance has its own connection
broker and pool of servers.  Each pool has the identical configuration.  For
example, all pools start with <code class="docutils literal notranslate"><span class="pre">minsize</span></code> server processes.  A single
DBMS_CONNECTION_POOL command will alter the pool of each instance at the same
time.  The pool needs to be started before connection requests begin.  The
command below does this by bringing up the broker, which registers itself with
the database listener:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">EXECUTE</span> <span class="n">DBMS_CONNECTION_POOL</span><span class="p">.</span><span class="n">START_POOL</span><span class="p">()</span>
</pre></div>
</div>
<p>Once enabled this way, the pool automatically restarts when the database
instance restarts, unless explicitly stopped with the
<code class="docutils literal notranslate"><span class="pre">DBMS_CONNECTION_POOL.STOP_POOL()</span></code> command:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">EXECUTE</span> <span class="n">DBMS_CONNECTION_POOL</span><span class="p">.</span><span class="n">STOP_POOL</span><span class="p">()</span>
</pre></div>
</div>
<p>The pool cannot be stopped while connections are open.</p>
<p><strong>Application Deployment for DRCP</strong></p>
<p>In order to use DRCP, the <code class="docutils literal notranslate"><span class="pre">cclass</span></code> and <code class="docutils literal notranslate"><span class="pre">purity</span></code> parameters should
be passed to <a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/api_manual/module.html#cx_Oracle.connect" title="cx_Oracle.connect"><code class="xref py py-meth docutils literal notranslate"><span class="pre">cx_Oracle.connect()</span></code></a> or <a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/api_manual/session_pool.html#SessionPool.acquire" title="SessionPool.acquire"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SessionPool.acquire()</span></code></a>.  If
<code class="docutils literal notranslate"><span class="pre">cclass</span></code> is not set, the pooled server sessions will not be reused optimally,
and the DRCP statistic views will record large values for NUM_MISSES.</p>
<p>The DRCP <code class="docutils literal notranslate"><span class="pre">purity</span></code> can be one of <code class="docutils literal notranslate"><span class="pre">ATTR_PURITY_NEW</span></code>, <code class="docutils literal notranslate"><span class="pre">ATTR_PURITY_SELF</span></code>,
or <code class="docutils literal notranslate"><span class="pre">ATTR_PURITY_DEFAULT</span></code>.  The value <code class="docutils literal notranslate"><span class="pre">ATTR_PURITY_SELF</span></code> allows reuse of
both the pooled server process and session memory, giving maximum benefit from
DRCP.  See the Oracle documentation on <a class="reference external" href="https://www.oracle.com/pls/topic/lookup?ctx=dblatest&amp;id=GUID-661BB906-74D2-4C5D-9C7E-2798F76501B3">benefiting from scalability</a>.</p>
<p>The connection string used for <a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/api_manual/module.html#cx_Oracle.connect" title="cx_Oracle.connect"><code class="xref py py-meth docutils literal notranslate"><span class="pre">connect()</span></code></a> or
<a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/api_manual/session_pool.html#SessionPool.acquire" title="SessionPool.acquire"><code class="xref py py-meth docutils literal notranslate"><span class="pre">acquire()</span></code></a> must request a pooled server by
following one of the syntaxes shown below:</p>
<p>Using Oracle’s Easy Connect syntax, the connection would look like:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">connection</span> <span class="o">=</span> <span class="n">cx_Oracle</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">"hr"</span><span class="p">,</span> <span class="n">userpwd</span><span class="p">,</span> <span class="s2">"dbhost.example.com/orcl:pooled"</span><span class="p">,</span>
        <span class="n">encoding</span><span class="o">=</span><span class="s2">"UTF-8"</span><span class="p">)</span>
</pre></div>
</div>
<p>Or if you connect using a Net Service Name named <code class="docutils literal notranslate"><span class="pre">customerpool</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">connection</span> <span class="o">=</span> <span class="n">cx_Oracle</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">"hr"</span><span class="p">,</span> <span class="n">userpwd</span><span class="p">,</span> <span class="s2">"customerpool"</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">"UTF-8"</span><span class="p">)</span>
</pre></div>
</div>
<p>Then only the Oracle Network configuration file <code class="docutils literal notranslate"><span class="pre">tnsnames.ora</span></code> needs
to be modified:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">customerpool</span> <span class="o">=</span> <span class="p">(</span><span class="n">DESCRIPTION</span><span class="o">=</span><span class="p">(</span><span class="n">ADDRESS</span><span class="o">=</span><span class="p">(</span><span class="n">PROTOCOL</span><span class="o">=</span><span class="n">tcp</span><span class="p">)</span>
          <span class="p">(</span><span class="n">HOST</span><span class="o">=</span><span class="n">dbhost</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">com</span><span class="p">)</span>
          <span class="p">(</span><span class="n">PORT</span><span class="o">=</span><span class="mi">1521</span><span class="p">))(</span><span class="n">CONNECT_DATA</span><span class="o">=</span><span class="p">(</span><span class="n">SERVICE_NAME</span><span class="o">=</span><span class="n">CUSTOMER</span><span class="p">)</span>
          <span class="p">(</span><span class="n">SERVER</span><span class="o">=</span><span class="n">POOLED</span><span class="p">)))</span>
</pre></div>
</div>
<p>If these changes are made and the database is not actually configured for DRCP,
or the pool is not started, then connections will not succeed and an error will
be returned to the Python application.</p>
<p>Although applications can choose whether or not to use pooled connections at
runtime, care must be taken to configure the database appropriately for the
number of expected connections, and also to stop inadvertent use of non-DRCP
connections leading to a database server resource shortage. Conversely, avoid
using DRCP connections for long-running operations.</p>
<p>The example below shows how to connect to Oracle Database using Database
Resident Connection Pooling:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">connection</span> <span class="o">=</span> <span class="n">cx_Oracle</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">"hr"</span><span class="p">,</span> <span class="n">userpwd</span><span class="p">,</span> <span class="s2">"dbhost.example.com/orcl:pooled"</span><span class="p">,</span>
        <span class="n">cclass</span><span class="o">=</span><span class="s2">"MYCLASS"</span><span class="p">,</span> <span class="n">purity</span><span class="o">=</span><span class="n">cx_Oracle</span><span class="o">.</span><span class="n">ATTR_PURITY_SELF</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">"UTF-8"</span><span class="p">)</span>
</pre></div>
</div>
<p>The example below shows connecting to Oracle Database using DRCP and
cx_Oracle’s connection pooling:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">mypool</span> <span class="o">=</span> <span class="n">cx_Oracle</span><span class="o">.</span><span class="n">SessionPool</span><span class="p">(</span><span class="s2">"hr"</span><span class="p">,</span> <span class="n">userpwd</span><span class="p">,</span> <span class="s2">"dbhost.example.com/orcl:pooled"</span><span class="p">,</span>
                       <span class="n">encoding</span><span class="o">=</span><span class="s2">"UTF-8"</span><span class="p">)</span>
<span class="n">connection</span> <span class="o">=</span> <span class="n">mypool</span><span class="o">.</span><span class="n">acquire</span><span class="p">(</span><span class="n">cclass</span><span class="o">=</span><span class="s2">"MYCLASS"</span><span class="p">,</span> <span class="n">purity</span><span class="o">=</span><span class="n">cx_Oracle</span><span class="o">.</span><span class="n">ATTR_PURITY_SELF</span><span class="p">)</span>
</pre></div>
</div>
<p>For more information about DRCP see <a class="reference external" href="https://www.oracle.com/pls/topic/lookup?ctx=dblatest&amp;id=GUID-531EEE8A-B00A-4C03-A2ED-D45D92B3F797">Oracle Database Concepts Guide</a>, and for DRCP Configuration
see <a class="reference external" href="https://www.oracle.com/pls/topic/lookup?ctx=dblatest&amp;id=GUID-82FF6896-F57E-41CF-89F7-755F3BC9C924">Oracle Database Administrator’s Guide</a>.</p>
<p><strong>Closing Connections</strong></p>
<p>Python scripts where cx_Oracle connections do not go out of scope quickly
(which releases them), or do not currently use <a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/api_manual/connection.html#Connection.close" title="Connection.close"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.close()</span></code></a>,
should be examined to see if <a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/api_manual/connection.html#Connection.close" title="Connection.close"><code class="xref py py-meth docutils literal notranslate"><span class="pre">close()</span></code></a> can be used, which
then allows maximum use of DRCP pooled servers by the database:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span> <span class="c1"># Do some database operations</span>
<span class="n">connection</span> <span class="o">=</span> <span class="n">mypool</span><span class="o">.</span><span class="n">acquire</span><span class="p">(</span><span class="n">cclass</span><span class="o">=</span><span class="s2">"MYCLASS"</span><span class="p">,</span> <span class="n">purity</span><span class="o">=</span><span class="n">cx_Oracle</span><span class="o">.</span><span class="n">ATTR_PURITY_SELF</span><span class="p">)</span>
<span class="o">.</span> <span class="o">.</span> <span class="o">.</span>
<span class="n">connection</span><span class="o">.</span><span class="n">close</span><span class="p">();</span>

<span class="c1"># Do lots of non-database work</span>
<span class="o">.</span> <span class="o">.</span> <span class="o">.</span>

<span class="c1"># Do some more database operations</span>
<span class="n">connection</span> <span class="o">=</span> <span class="n">mypool</span><span class="o">.</span><span class="n">acquire</span><span class="p">(</span><span class="n">cclass</span><span class="o">=</span><span class="s2">"MYCLASS"</span><span class="p">,</span> <span class="n">purity</span><span class="o">=</span><span class="n">cx_Oracle</span><span class="o">.</span><span class="n">ATTR_PURITY_SELF</span><span class="p">)</span>
<span class="o">.</span> <span class="o">.</span> <span class="o">.</span>
<span class="n">connection</span><span class="o">.</span><span class="n">close</span><span class="p">();</span>
</pre></div>
</div>
<p><strong>Monitoring DRCP</strong></p>
<p>Data dictionary views are available to monitor the performance of DRCP.
Database administrators can check statistics such as the number of busy and
free servers, and the number of hits and misses in the pool against the total
number of requests from clients. The views are:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">DBA_CPOOL_INFO</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">V$PROCESS</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">V$SESSION</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">V$CPOOL_STATS</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">V$CPOOL_CC_STATS</span></code></li>
<li><code class="docutils literal notranslate"><span class="pre">V$CPOOL_CONN_INFO</span></code></li>
</ul>
<p><strong>DBA_CPOOL_INFO View</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">DBA_CPOOL_INFO</span></code> displays configuration information about the DRCP pool.  The
columns are equivalent to the <code class="docutils literal notranslate"><span class="pre">dbms_connection_pool.configure_pool()</span></code>
settings described in the table of DRCP configuration options, with the
addition of a <code class="docutils literal notranslate"><span class="pre">STATUS</span></code> column.  The status is <code class="docutils literal notranslate"><span class="pre">ACTIVE</span></code> if the pool has been
started and <code class="docutils literal notranslate"><span class="pre">INACTIVE</span></code> otherwise.  Note the pool name column is called
<code class="docutils literal notranslate"><span class="pre">CONNECTION_POOL</span></code>.  This example checks whether the pool has been started and
finds the maximum number of pooled servers:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SQL</span><span class="o">&gt;</span> <span class="n">SELECT</span> <span class="n">connection_pool</span><span class="p">,</span> <span class="n">status</span><span class="p">,</span> <span class="n">maxsize</span> <span class="n">FROM</span> <span class="n">dba_cpool_info</span><span class="p">;</span>

<span class="n">CONNECTION_POOL</span>              <span class="n">STATUS</span>        <span class="n">MAXSIZE</span>
<span class="o">----------------------------</span> <span class="o">----------</span> <span class="o">----------</span>
<span class="n">SYS_DEFAULT_CONNECTION_POOL</span>  <span class="n">ACTIVE</span>             <span class="mi">40</span>
</pre></div>
</div>
<p><strong>V$PROCESS and V$SESSION Views</strong></p>
<p>The <code class="docutils literal notranslate"><span class="pre">V$SESSION</span></code> view shows information about the currently active DRCP
sessions.  It can also be joined with <code class="docutils literal notranslate"><span class="pre">V$PROCESS</span></code> via
<code class="docutils literal notranslate"><span class="pre">V$SESSION.PADDR</span> <span class="pre">=</span> <span class="pre">V$PROCESS.ADDR</span></code> to correlate the views.</p>
<p><strong>V$CPOOL_STATS View</strong></p>
<p>The <code class="docutils literal notranslate"><span class="pre">V$CPOOL_STATS</span></code> view displays information about the DRCP statistics for
an instance.  The V$CPOOL_STATS view can be used to assess how efficient the
pool settings are. T his example query shows an application using the pool
effectively.  The low number of misses indicates that servers and sessions were
reused.  The wait count shows just over 1% of requests had to wait for a pooled
server to become available:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">NUM_REQUESTS</span>   <span class="n">NUM_HITS</span> <span class="n">NUM_MISSES</span>  <span class="n">NUM_WAITS</span>
<span class="o">------------</span> <span class="o">----------</span> <span class="o">----------</span> <span class="o">----------</span>
       <span class="mi">10031</span>      <span class="mi">99990</span>         <span class="mi">40</span>       <span class="mi">1055</span>
</pre></div>
</div>
<p>If <code class="docutils literal notranslate"><span class="pre">cclass</span></code> was set (allowing pooled servers and sessions to be
reused) then NUM_MISSES will be low.  If the pool maxsize is too small for
the connection load, then NUM_WAITS will be high.</p>
<p><strong>V$CPOOL_CC_STATS View</strong></p>
<p>The view <code class="docutils literal notranslate"><span class="pre">V$CPOOL_CC_STATS</span></code> displays information about the connection class
level statistics for the pool per instance:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>SQL&gt; SELECT cclass_name, num_requests, num_hits, num_misses
     FROM v$cpool_cc_stats;

CCLASS_NAME                      NUM_REQUESTS NUM_HITS   NUM_MISSES
-------------------------------- ------------ ---------- ----------
HR.MYCLASS                             100031      99993         38
</pre></div>
</div>
<p><strong>V$CPOOL_CONN_INFO View</strong></p>
<p>The <code class="docutils literal notranslate"><span class="pre">V$POOL_CONN_INFO</span></code> view gives insight into client processes that are
connected to the connection broker, making it easier to monitor and trace
applications that are currently using pooled servers or are idle. This view was
introduced in Oracle 11gR2.</p>
<p>You can monitor the view <code class="docutils literal notranslate"><span class="pre">V$CPOOL_CONN_INFO</span></code> to, for example, identify
misconfigured machines that do not have the connection class set correctly.
This view maps the machine name to the class name:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>SQL&gt; SELECT cclass_name, machine FROM v$cpool_conn_info;

CCLASS_NAME                             MACHINE
--------------------------------------- ------------
CJ.OCI:SP:wshbIFDtb7rgQwMyuYvodA        cjlinux
. . .
</pre></div>
</div>
<p>In this example you would examine applications on <code class="docutils literal notranslate"><span class="pre">cjlinux</span></code> and make
sure <code class="docutils literal notranslate"><span class="pre">cclass</span></code> is set.</p>
</div>
<div class="section" id="connecting-using-proxy-authentication">
<span id="proxyauth"></span><h2>Connecting Using Proxy Authentication<a class="headerlink" href="#connecting-using-proxy-authentication" title="Permalink to this headline">¶</a></h2>
<p>Proxy authentication allows a user (the “session user”) to connect to Oracle
Database using the credentials of a ‘proxy user’.  Statements will run as the
session user.  Proxy authentication is generally used in three-tier applications
where one user owns the schema while multiple end-users access the data.  For
more information about proxy authentication, see the <a class="reference external" href="https://www.oracle.com/pls/topic/lookup?ctx=dblatest&amp;id=GUID-D77D0D4A-7483-423A-9767-CBB5854A15CC">Oracle documentation</a>.</p>
<p>An alternative to using proxy users is to set
<a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/api_manual/connection.html#Connection.client_identifier" title="Connection.client_identifier"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Connection.client_identifier</span></code></a> after connecting and use its value in
statements and in the database, for example for <a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/user_guide/tracing_sql.html#endtoendtracing"><span class="std std-ref">monitoring</span></a>.</p>
<p>The following proxy examples use these schemas.  The <code class="docutils literal notranslate"><span class="pre">mysessionuser</span></code> schema is
granted access to use the password of <code class="docutils literal notranslate"><span class="pre">myproxyuser</span></code>:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span> <span class="k">USER</span> <span class="n">myproxyuser</span> <span class="n">IDENTIFIED</span> <span class="k">BY</span> <span class="n">myproxyuserpw</span><span class="p">;</span>
<span class="k">GRANT</span> <span class="k">CREATE</span> <span class="k">SESSION</span> <span class="k">TO</span> <span class="n">myproxyuser</span><span class="p">;</span>

<span class="k">CREATE</span> <span class="k">USER</span> <span class="n">mysessionuser</span> <span class="n">IDENTIFIED</span> <span class="k">BY</span> <span class="n">itdoesntmatter</span><span class="p">;</span>
<span class="k">GRANT</span> <span class="k">CREATE</span> <span class="k">SESSION</span> <span class="k">TO</span> <span class="n">mysessionuser</span><span class="p">;</span>

<span class="k">ALTER</span> <span class="k">USER</span> <span class="n">mysessionuser</span> <span class="k">GRANT</span> <span class="k">CONNECT</span> <span class="n">THROUGH</span> <span class="n">myproxyuser</span><span class="p">;</span>
</pre></div>
</div>
<p>After connecting to the database, the following query can be used to show the
session and proxy users:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="n">SYS_CONTEXT</span><span class="p">(</span><span class="s1">'USERENV'</span><span class="p">,</span> <span class="s1">'PROXY_USER'</span><span class="p">),</span>
       <span class="n">SYS_CONTEXT</span><span class="p">(</span><span class="s1">'USERENV'</span><span class="p">,</span> <span class="s1">'SESSION_USER'</span><span class="p">)</span>
<span class="k">FROM</span> <span class="n">DUAL</span><span class="p">;</span>
</pre></div>
</div>
<p>Standalone connection examples:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Basic Authentication without a proxy</span>
<span class="n">connection</span> <span class="o">=</span> <span class="n">cx_Oracle</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">"myproxyuser"</span><span class="p">,</span> <span class="s2">"myproxyuserpw"</span><span class="p">,</span> <span class="s2">"dbhost.example.com/orclpdb1"</span><span class="p">,</span>
        <span class="n">encoding</span><span class="o">=</span><span class="s2">"UTF-8"</span><span class="p">)</span>
<span class="c1"># PROXY_USER:   None</span>
<span class="c1"># SESSION_USER: MYPROXYUSER</span>

<span class="c1"># Basic Authentication with a proxy</span>
<span class="n">connection</span> <span class="o">=</span> <span class="n">cx_Oracle</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">user</span><span class="o">=</span><span class="s2">"myproxyuser[mysessionuser]"</span><span class="p">,</span> <span class="s2">"myproxyuserpw"</span><span class="p">,</span>
       <span class="s2">"dbhost.example.com/orclpdb1"</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">"UTF-8"</span><span class="p">)</span>
<span class="c1"># PROXY_USER:   MYPROXYUSER</span>
<span class="c1"># SESSION_USER: MYSESSIONUSER</span>
</pre></div>
</div>
<p>Pooled connection examples:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Basic Authentication without a proxy</span>
<span class="n">pool</span> <span class="o">=</span> <span class="n">cx_Oracle</span><span class="o">.</span><span class="n">SessionPool</span><span class="p">(</span><span class="s2">"myproxyuser"</span><span class="p">,</span> <span class="s2">"myproxyuser"</span><span class="p">,</span> <span class="s2">"dbhost.example.com/orclpdb1"</span><span class="p">,</span>
                     <span class="n">encoding</span><span class="o">=</span><span class="s2">"UTF-8"</span><span class="p">)</span>
<span class="n">connection</span> <span class="o">=</span> <span class="n">pool</span><span class="o">.</span><span class="n">acquire</span><span class="p">()</span>
<span class="c1"># PROXY_USER:   None</span>
<span class="c1"># SESSION_USER: MYPROXYUSER</span>

<span class="c1"># Basic Authentication with proxy</span>
<span class="n">pool</span> <span class="o">=</span> <span class="n">cx_Oracle</span><span class="o">.</span><span class="n">SessionPool</span><span class="p">(</span><span class="s2">"myproxyuser[mysessionuser]"</span><span class="p">,</span> <span class="s2">"myproxyuser"</span><span class="p">,</span>
                     <span class="s2">"dbhost.example.com/orclpdb1"</span><span class="p">,</span> <span class="n">homogeneous</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">"UTF-8"</span><span class="p">)</span>
<span class="n">connection</span> <span class="o">=</span> <span class="n">pool</span><span class="o">.</span><span class="n">acquire</span><span class="p">()</span>
<span class="c1"># PROXY_USER:   MYPROXYUSER</span>
<span class="c1"># SESSION_USER: MYSESSIONUSER</span>
</pre></div>
</div>
<p>Note the use of a <a class="reference internal" href="#connpooltypes"><span class="std std-ref">heterogeneous</span></a> pool in the example
above.  This is required in this scenario.</p>
</div>
<div class="section" id="connecting-using-external-authentication">
<span id="extauth"></span><h2>Connecting Using External Authentication<a class="headerlink" href="#connecting-using-external-authentication" title="Permalink to this headline">¶</a></h2>
<p>Instead of storing the database username and password in Python scripts or
environment variables, database access can be authenticated by an outside
system.  External Authentication allows applications to validate user access by
an external password store (such as an Oracle Wallet), by the operating system,
or with an external authentication service.</p>
<div class="section" id="using-an-oracle-wallet-for-external-authentication">
<h3>Using an Oracle Wallet for External Authentication<a class="headerlink" href="#using-an-oracle-wallet-for-external-authentication" title="Permalink to this headline">¶</a></h3>
<p>The following steps give an overview of using an Oracle Wallet.  Wallets should
be kept securely.  Wallets can be managed with <a class="reference external" href="https://www.oracle.com/pls/topic/lookup?ctx=dblatest&amp;id=GUID-E3E16C82-E174-4814-98D5-EADF1BCB3C37">Oracle Wallet Manager</a>.</p>
<p>In this example the wallet is created for the <code class="docutils literal notranslate"><span class="pre">myuser</span></code> schema in the directory
<code class="docutils literal notranslate"><span class="pre">/home/oracle/wallet_dir</span></code>.  The <code class="docutils literal notranslate"><span class="pre">mkstore</span></code> command is available from a full
Oracle client or Oracle Database installation.  If you have been given wallet by
your DBA, skip to step 3.</p>
<ol class="arabic">
<li><p class="first">First create a new wallet as the <code class="docutils literal notranslate"><span class="pre">oracle</span></code> user:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mkstore</span> <span class="o">-</span><span class="n">wrl</span> <span class="s2">"/home/oracle/wallet_dir"</span> <span class="o">-</span><span class="n">create</span>
</pre></div>
</div>
<p>This will prompt for a new password for the wallet.</p>
</li>
<li><p class="first">Create the entry for the database user name and password that are currently
hardcoded in your Python scripts.  Use either of the methods shown below.
They will prompt for the wallet password that was set in the first step.</p>
<p><strong>Method 1 - Using an Easy Connect string</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mkstore</span> <span class="o">-</span><span class="n">wrl</span> <span class="s2">"/home/oracle/wallet_dir"</span> <span class="o">-</span><span class="n">createCredential</span> <span class="n">dbhost</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">orclpdb1</span> <span class="n">myuser</span> <span class="n">myuserpw</span>
</pre></div>
</div>
<p><strong>Method 2 - Using a connect name identifier</strong>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mkstore</span> <span class="o">-</span><span class="n">wrl</span> <span class="s2">"/home/oracle/wallet_dir"</span> <span class="o">-</span><span class="n">createCredential</span> <span class="n">mynetalias</span> <span class="n">myuser</span> <span class="n">myuserpw</span>
</pre></div>
</div>
<p>The alias key <code class="docutils literal notranslate"><span class="pre">mynetalias</span></code> immediately following the
<code class="docutils literal notranslate"><span class="pre">-createCredential</span></code> option will be the connect name to be used in Python
scripts.  If your application connects with multiple different database
users, you could create a wallet entry with different connect names for
each.</p>
<p>You can see the newly created credential with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mkstore</span> <span class="o">-</span><span class="n">wrl</span> <span class="s2">"/home/oracle/wallet_dir"</span> <span class="o">-</span><span class="n">listCredential</span>
</pre></div>
</div>
</li>
<li><p class="first">Skip this step if the wallet was created using an Easy Connect String.
Otherwise, add an entry in <a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/user_guide/initialization.html#optnetfiles"><span class="std std-ref">tnsnames.ora</span></a> for the connect
name as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mynetalias</span> <span class="o">=</span>
    <span class="p">(</span><span class="n">DESCRIPTION</span> <span class="o">=</span>
        <span class="p">(</span><span class="n">ADDRESS</span> <span class="o">=</span> <span class="p">(</span><span class="n">PROTOCOL</span> <span class="o">=</span> <span class="n">TCP</span><span class="p">)(</span><span class="n">HOST</span> <span class="o">=</span> <span class="n">dbhost</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">com</span><span class="p">)(</span><span class="n">PORT</span> <span class="o">=</span> <span class="mi">1521</span><span class="p">))</span>
        <span class="p">(</span><span class="n">CONNECT_DATA</span> <span class="o">=</span>
            <span class="p">(</span><span class="n">SERVER</span> <span class="o">=</span> <span class="n">DEDICATED</span><span class="p">)</span>
            <span class="p">(</span><span class="n">SERVICE_NAME</span> <span class="o">=</span> <span class="n">orclpdb1</span><span class="p">)</span>
        <span class="p">)</span>
    <span class="p">)</span>
</pre></div>
</div>
<p>The file uses the description for your existing database and sets the
connect name alias to <code class="docutils literal notranslate"><span class="pre">mynetalias</span></code>, which is the identifier used when
adding the wallet entry.</p>
</li>
<li><p class="first">Add the following wallet location entry in the <a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/user_guide/initialization.html#optnetfiles"><span class="std std-ref">sqlnet.ora</span></a> file, using the <code class="docutils literal notranslate"><span class="pre">DIRECTORY</span></code> you created the wallet in:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">WALLET_LOCATION</span> <span class="o">=</span>
    <span class="p">(</span><span class="n">SOURCE</span> <span class="o">=</span>
        <span class="p">(</span><span class="n">METHOD</span> <span class="o">=</span> <span class="n">FILE</span><span class="p">)</span>
        <span class="p">(</span><span class="n">METHOD_DATA</span> <span class="o">=</span>
            <span class="p">(</span><span class="n">DIRECTORY</span> <span class="o">=</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">oracle</span><span class="o">/</span><span class="n">wallet_dir</span><span class="p">)</span>
        <span class="p">)</span>
    <span class="p">)</span>
<span class="n">SQLNET</span><span class="o">.</span><span class="n">WALLET_OVERRIDE</span> <span class="o">=</span> <span class="n">TRUE</span>
</pre></div>
</div>
<p>Examine the Oracle documentation for full settings and values.</p>
</li>
<li><p class="first">Ensure the configuration files are in a default location or set TNS_ADMIN is
set to the directory containing them.  See <a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/user_guide/initialization.html#optnetfiles"><span class="std std-ref">Optional Oracle Net Configuration Files</span></a>.</p>
</li>
</ol>
<p>With an Oracle wallet configured, and readable by you, your scripts
can connect using:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">connection</span> <span class="o">=</span> <span class="n">cx_Oracle</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">dsn</span><span class="o">=</span><span class="s2">"mynetalias"</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">"UTF-8"</span><span class="p">)</span>
</pre></div>
</div>
<p>or:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pool</span> <span class="o">=</span> <span class="n">cx_Oracle</span><span class="o">.</span><span class="n">SessionPool</span><span class="p">(</span><span class="n">externalauth</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">homogeneous</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">dsn</span><span class="o">=</span><span class="s2">"mynetalias"</span><span class="p">,</span>
                     <span class="n">encoding</span><span class="o">=</span><span class="s2">"UTF-8"</span><span class="p">)</span>
<span class="n">pool</span><span class="o">.</span><span class="n">acquire</span><span class="p">()</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">dsn</span></code> must match the one used in the wallet.</p>
<p>After connecting, the query:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SELECT</span> <span class="n">SYS_CONTEXT</span><span class="p">(</span><span class="s1">'USERENV'</span><span class="p">,</span> <span class="s1">'SESSION_USER'</span><span class="p">)</span> <span class="n">FROM</span> <span class="n">DUAL</span><span class="p">;</span>
</pre></div>
</div>
<p>will show:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">MYUSER</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Wallets are also used to configure TLS connections.  If you are using a
wallet like this, you may need a database username and password in
<a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/api_manual/module.html#cx_Oracle.connect" title="cx_Oracle.connect"><code class="xref py py-meth docutils literal notranslate"><span class="pre">cx_Oracle.connect()</span></code></a> and <a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/api_manual/module.html#cx_Oracle.SessionPool" title="cx_Oracle.SessionPool"><code class="xref py py-meth docutils literal notranslate"><span class="pre">cx_Oracle.SessionPool()</span></code></a> calls.</p>
</div>
<p><strong>External Authentication and Proxy Authentication</strong></p>
<p>The following examples show external wallet authentication combined with
<a class="reference internal" href="#proxyauth"><span class="std std-ref">proxy authentication</span></a>.  These examples use the wallet
configuration from above, with the addition of a grant to another user:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ALTER</span> <span class="n">USER</span> <span class="n">mysessionuser</span> <span class="n">GRANT</span> <span class="n">CONNECT</span> <span class="n">THROUGH</span> <span class="n">myuser</span><span class="p">;</span>
</pre></div>
</div>
<p>After connection, you can check who the session user is with:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="n">SYS_CONTEXT</span><span class="p">(</span><span class="s1">'USERENV'</span><span class="p">,</span> <span class="s1">'PROXY_USER'</span><span class="p">),</span>
       <span class="n">SYS_CONTEXT</span><span class="p">(</span><span class="s1">'USERENV'</span><span class="p">,</span> <span class="s1">'SESSION_USER'</span><span class="p">)</span>
<span class="k">FROM</span> <span class="n">DUAL</span><span class="p">;</span>
</pre></div>
</div>
<p>Standalone connection example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># External Authentication with proxy</span>
<span class="n">connection</span> <span class="o">=</span> <span class="n">cx_Oracle</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">user</span><span class="o">=</span><span class="s2">"[mysessionuser]"</span><span class="p">,</span> <span class="n">dsn</span><span class="o">=</span><span class="s2">"mynetalias"</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">"UTF-8"</span><span class="p">)</span>
<span class="c1"># PROXY_USER:   MYUSER</span>
<span class="c1"># SESSION_USER: MYSESSIONUSER</span>
</pre></div>
</div>
<p>Pooled connection example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># External Authentication with proxy</span>
<span class="n">pool</span> <span class="o">=</span> <span class="n">cx_Oracle</span><span class="o">.</span><span class="n">SessionPool</span><span class="p">(</span><span class="n">externalauth</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">homogeneous</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">dsn</span><span class="o">=</span><span class="s2">"mynetalias"</span><span class="p">,</span>
                     <span class="n">encoding</span><span class="o">=</span><span class="s2">"UTF-8"</span><span class="p">)</span>
<span class="n">pool</span><span class="o">.</span><span class="n">acquire</span><span class="p">(</span><span class="n">user</span><span class="o">=</span><span class="s2">"[mysessionuser]"</span><span class="p">)</span>
<span class="c1"># PROXY_USER:   MYUSER</span>
<span class="c1"># SESSION_USER: MYSESSIONUSER</span>
</pre></div>
</div>
<p>The following usage is not supported:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pool</span> <span class="o">=</span> <span class="n">cx_Oracle</span><span class="o">.</span><span class="n">SessionPool</span><span class="p">(</span><span class="s2">"[mysessionuser]"</span><span class="p">,</span> <span class="n">externalauth</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">homogeneous</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span>
                     <span class="n">dsn</span><span class="o">=</span><span class="s2">"mynetalias"</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">"UTF-8"</span><span class="p">)</span>
<span class="n">pool</span><span class="o">.</span><span class="n">acquire</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="operating-system-authentication">
<h3>Operating System Authentication<a class="headerlink" href="#operating-system-authentication" title="Permalink to this headline">¶</a></h3>
<p>With Operating System authentication, Oracle allows user authentication to be
performed by the operating system.  The following steps give an overview of how
to implement OS Authentication on Linux.</p>
<ol class="arabic">
<li><p class="first">Login to your computer. The commands used in these steps assume the
operating system user name is “oracle”.</p>
</li>
<li><p class="first">Login to SQL*Plus as the SYSTEM user and verify the value for the
<code class="docutils literal notranslate"><span class="pre">OS_AUTHENT_PREFIX</span></code> parameter:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>SQL&gt; SHOW PARAMETER os_authent_prefix

NAME                                 TYPE        VALUE
------------------------------------ ----------- ------------------------------
os_authent_prefix                    string      ops$
</pre></div>
</div>
</li>
<li><p class="first">Create an Oracle database user using the <code class="docutils literal notranslate"><span class="pre">os_authent_prefix</span></code> determined in
step 2, and the operating system user name:</p>
</li>
</ol>
<blockquote>
<div><div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span> <span class="k">USER</span> <span class="n">ops$oracle</span> <span class="n">IDENTIFIED</span> <span class="n">EXTERNALLY</span><span class="p">;</span>
<span class="k">GRANT</span> <span class="k">CONNECT</span><span class="p">,</span> <span class="n">RESOURCE</span> <span class="k">TO</span> <span class="n">ops$oracle</span><span class="p">;</span>
</pre></div>
</div>
</div></blockquote>
<p>In Python, connect using the following code:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">connection</span> <span class="o">=</span> <span class="n">cx_Oracle</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">dsn</span><span class="o">=</span><span class="s2">"mynetalias"</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">"UTF-8"</span><span class="p">)</span>
</pre></div>
</div>
<p>Your session user will be <code class="docutils literal notranslate"><span class="pre">OPS$ORACLE</span></code>.</p>
<p>If your database is not on the same computer as python, you can perform testing
by setting the database configuration parameter <code class="docutils literal notranslate"><span class="pre">remote_os_authent=true</span></code>.
Beware this is insecure.</p>
<p>See <a class="reference external" href="https://www.oracle.com/pls/topic/lookup?ctx=dblatest&amp;id=GUID-37BECE32-58D5-43BF-A098-97936D66968F">Oracle Database Security Guide</a> for more information about
Operating System Authentication.</p>
</div>
</div>
<div class="section" id="privileged-connections">
<h2>Privileged Connections<a class="headerlink" href="#privileged-connections" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">mode</span></code> parameter of the function <a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/api_manual/module.html#cx_Oracle.connect" title="cx_Oracle.connect"><code class="xref py py-meth docutils literal notranslate"><span class="pre">cx_Oracle.connect()</span></code></a> specifies
the database privilege that you want to associate with the user.</p>
<p>The example below shows how to connect to Oracle Database as SYSDBA:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">connection</span> <span class="o">=</span> <span class="n">cx_Oracle</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">"sys"</span><span class="p">,</span> <span class="n">syspwd</span><span class="p">,</span> <span class="s2">"dbhost.example.com/orclpdb1"</span><span class="p">,</span>
        <span class="n">mode</span><span class="o">=</span><span class="n">cx_Oracle</span><span class="o">.</span><span class="n">SYSDBA</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">"UTF-8"</span><span class="p">)</span>

<span class="n">cursor</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
<span class="n">sql</span> <span class="o">=</span> <span class="s2">"GRANT SYSOPER TO hr"</span>
<span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql</span><span class="p">)</span>
</pre></div>
</div>
<p>This is equivalent to executing the following in SQL*Plus:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CONNECT</span> <span class="n">sys</span><span class="o">/</span><span class="n">syspwd</span> <span class="k">AS</span> <span class="n">SYSDBA</span>

<span class="k">GRANT</span> <span class="n">SYSOPER</span> <span class="k">TO</span> <span class="n">hr</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="securely-encrypting-network-traffic-to-oracle-database">
<span id="netencrypt"></span><h2>Securely Encrypting Network Traffic to Oracle Database<a class="headerlink" href="#securely-encrypting-network-traffic-to-oracle-database" title="Permalink to this headline">¶</a></h2>
<p>You can encrypt data transferred between the Oracle Database and the Oracle
Client libraries used by cx_Oracle so that unauthorized parties are not able to
view plain text values as the data passes over the network.  The easiest
configuration is Oracle’s native network encryption.  The standard SSL protocol
can also be used if you have a PKI, but setup is necessarily more involved.</p>
<p>With native network encryption, the client and database server negotiate a key
using Diffie-Hellman key exchange.  This provides protection against
man-in-the-middle attacks.</p>
<p>Native network encryption can be configured by editing Oracle Net’s optional
<a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/user_guide/initialization.html#optnetfiles"><span class="std std-ref">sqlnet.ora</span></a> configuration file, on either the database
server and/or on each cx_Oracle ‘client’ machine.  Parameters control whether
data integrity checking and encryption is required or just allowed, and which
algorithms the client and server should consider for use.</p>
<p>As an example, to ensure all connections to the database are checked for
integrity and are also encrypted, create or edit the Oracle Database
<code class="docutils literal notranslate"><span class="pre">$ORACLE_HOME/network/admin/sqlnet.ora</span></code> file.  Set the checksum negotiation
to always validate a checksum and set the checksum type to your desired value.
The network encryption settings can similarly be set.  For example, to use the
SHA512 checksum and AES256 encryption use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SQLNET</span><span class="o">.</span><span class="n">CRYPTO_CHECKSUM_SERVER</span> <span class="o">=</span> <span class="n">required</span>
<span class="n">SQLNET</span><span class="o">.</span><span class="n">CRYPTO_CHECKSUM_TYPES_SERVER</span> <span class="o">=</span> <span class="p">(</span><span class="n">SHA512</span><span class="p">)</span>
<span class="n">SQLNET</span><span class="o">.</span><span class="n">ENCRYPTION_SERVER</span> <span class="o">=</span> <span class="n">required</span>
<span class="n">SQLNET</span><span class="o">.</span><span class="n">ENCRYPTION_TYPES_SERVER</span> <span class="o">=</span> <span class="p">(</span><span class="n">AES256</span><span class="p">)</span>
</pre></div>
</div>
<p>If you definitely know that the database server enforces integrity and
encryption, then you do not need to configure cx_Oracle separately.  However
you can also, or alternatively, do so depending on your business needs.  Create
a <code class="docutils literal notranslate"><span class="pre">sqlnet.ora</span></code> on your client machine and locate it with other
<a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/user_guide/initialization.html#optnetfiles"><span class="std std-ref">Optional Oracle Net Configuration Files</span></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SQLNET</span><span class="o">.</span><span class="n">CRYPTO_CHECKSUM_CLIENT</span> <span class="o">=</span> <span class="n">required</span>
<span class="n">SQLNET</span><span class="o">.</span><span class="n">CRYPTO_CHECKSUM_TYPES_CLIENT</span> <span class="o">=</span> <span class="p">(</span><span class="n">SHA512</span><span class="p">)</span>
<span class="n">SQLNET</span><span class="o">.</span><span class="n">ENCRYPTION_CLIENT</span> <span class="o">=</span> <span class="n">required</span>
<span class="n">SQLNET</span><span class="o">.</span><span class="n">ENCRYPTION_TYPES_CLIENT</span> <span class="o">=</span> <span class="p">(</span><span class="n">AES256</span><span class="p">)</span>
</pre></div>
</div>
<p>The client and server sides can negotiate the protocols used if the settings
indicate more than one value is accepted.</p>
<p>Note that these are example settings only. You must review your security
requirements and read the documentation for your Oracle version. In particular
review the available algorithms for security and performance.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">NETWORK_SERVICE_BANNER</span></code> column of the database view
<a class="reference external" href="https://www.oracle.com/pls/topic/lookup?ctx=dblatest&amp;id=GUID-9F0DCAEA-A67E-4183-89E7-B1555DC591CE">V$SESSION_CONNECT_INFO</a> can be used to verify the
encryption status of a connection.</p>
<p>For more information on Oracle Data Network Encryption and Integrity,
configuring SSL network encryption and Transparent Data Encryption of
data-at-rest in the database, see <a class="reference external" href="https://www.oracle.com/pls/topic/lookup?ctx=dblatest&amp;id=GUID-41040F53-D7A6-48FA-A92A-0C23118BC8A0">Oracle Database Security Guide</a>.</p>
</div>
<div class="section" id="resetting-passwords">
<h2>Resetting Passwords<a class="headerlink" href="#resetting-passwords" title="Permalink to this headline">¶</a></h2>
<p>After connecting, passwords can be changed by calling
<a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/api_manual/connection.html#Connection.changepassword" title="Connection.changepassword"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Connection.changepassword()</span></code></a>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Get the passwords from somewhere, such as prompting the user</span>
<span class="n">oldpwd</span> <span class="o">=</span> <span class="n">getpass</span><span class="o">.</span><span class="n">getpass</span><span class="p">(</span><span class="s2">"Old Password for </span><span class="si">%s</span><span class="s2">: "</span> <span class="o">%</span> <span class="n">username</span><span class="p">)</span>
<span class="n">newpwd</span> <span class="o">=</span> <span class="n">getpass</span><span class="o">.</span><span class="n">getpass</span><span class="p">(</span><span class="s2">"New Password for </span><span class="si">%s</span><span class="s2">: "</span> <span class="o">%</span> <span class="n">username</span><span class="p">)</span>

<span class="n">connection</span><span class="o">.</span><span class="n">changepassword</span><span class="p">(</span><span class="n">oldpwd</span><span class="p">,</span> <span class="n">newpwd</span><span class="p">)</span>
</pre></div>
</div>
<p>When a password has expired and you cannot connect directly, you can connect
and change the password in one operation by using the <code class="docutils literal notranslate"><span class="pre">newpassword</span></code> parameter
of the function <a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/api_manual/module.html#cx_Oracle.connect" title="cx_Oracle.connect"><code class="xref py py-meth docutils literal notranslate"><span class="pre">cx_Oracle.connect()</span></code></a> constructor:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Get the passwords from somewhere, such as prompting the user</span>
<span class="n">oldpwd</span> <span class="o">=</span> <span class="n">getpass</span><span class="o">.</span><span class="n">getpass</span><span class="p">(</span><span class="s2">"Old Password for </span><span class="si">%s</span><span class="s2">: "</span> <span class="o">%</span> <span class="n">username</span><span class="p">)</span>
<span class="n">newpwd</span> <span class="o">=</span> <span class="n">getpass</span><span class="o">.</span><span class="n">getpass</span><span class="p">(</span><span class="s2">"New Password for </span><span class="si">%s</span><span class="s2">: "</span> <span class="o">%</span> <span class="n">username</span><span class="p">)</span>

<span class="n">connection</span> <span class="o">=</span> <span class="n">cx_Oracle</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">username</span><span class="p">,</span> <span class="n">oldpwd</span><span class="p">,</span> <span class="s2">"dbhost.example.com/orclpdb1"</span><span class="p">,</span>
        <span class="n">newpassword</span><span class="o">=</span><span class="n">newpwd</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">"UTF-8"</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="connecting-to-autononmous-databases">
<span id="autononmousdb"></span><h2>Connecting to Autononmous Databases<a class="headerlink" href="#connecting-to-autononmous-databases" title="Permalink to this headline">¶</a></h2>
<p>To enable connection to Oracle Autonomous Database in Oracle Cloud, a wallet
needs be downloaded from the cloud GUI, and cx_Oracle needs to be configured to
use it.  A database username and password is still required.  The wallet only
enables SSL/TLS.</p>
<div class="section" id="install-the-wallet-and-network-configuration-files">
<h3>Install the Wallet and Network Configuration Files<a class="headerlink" href="#install-the-wallet-and-network-configuration-files" title="Permalink to this headline">¶</a></h3>
<p>From the Oracle Cloud console for the database, download the wallet zip file.  It
contains the wallet and network configuration files.  Note: keep wallet files in
a secure location and share them only with authorized users.</p>
<p>Unzip the wallet zip file.</p>
<p>For cx_Oracle, only these files from the zip are needed:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">tnsnames.ora</span></code> - Maps net service names used for application connection strings to your database services</li>
<li><code class="docutils literal notranslate"><span class="pre">sqlnet.ora</span></code>  - Configures Oracle Network settings</li>
<li><code class="docutils literal notranslate"><span class="pre">cwallet.sso</span></code> - Enables SSL/TLS connections</li>
</ul>
<p>The other files and the wallet password are not needed.</p>
<p>Place these files as shown in <a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/user_guide/initialization.html#optnetfiles"><span class="std std-ref">Optional Oracle Net Configuration Files</span></a>.</p>
</div>
<div class="section" id="run-your-application">
<h3>Run Your Application<a class="headerlink" href="#run-your-application" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">tnsnames.ora</span></code> file contains net service names for various levels of
database service.  For example, if you create a database called CJDB1 with the
Always Free services from the <a class="reference external" href="https://www.oracle.com//cloud/free/">Oracle Cloud Free Tier</a>, then you might decide to use the
connection string in <code class="docutils literal notranslate"><span class="pre">tnsnames.ora</span></code> called <code class="docutils literal notranslate"><span class="pre">cjdb1_high</span></code>.</p>
<p>Update your application to use your schema username, its database password, and
a net service name, for example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">connection</span> <span class="o">=</span> <span class="n">cx_Oracle</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">"scott"</span><span class="p">,</span> <span class="n">userpwd</span><span class="p">,</span> <span class="s2">"cjdb1_high"</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">"UTF-8"</span><span class="p">)</span>
</pre></div>
</div>
<p>Once you have set Oracle environment variables required by your application,
such as <code class="docutils literal notranslate"><span class="pre">TNS_ADMIN</span></code>, you can start your application.</p>
<p>If you need to create a new database schema so you do not login as the
privileged ADMIN user, refer to the relevant Oracle Cloud documentation, for
example see <a class="reference external" href="https://docs.oracle.com/en/cloud/paas/atp-cloud/atpud/manage.html">Create Database Users</a> in the
Oracle Autonomous Transaction Processing Dedicated Deployments manual.</p>
</div>
<div class="section" id="access-through-a-proxy">
<h3>Access Through a Proxy<a class="headerlink" href="#access-through-a-proxy" title="Permalink to this headline">¶</a></h3>
<p>If you are behind a firewall, you can tunnel TLS/SSL connections via a proxy
using <a class="reference external" href="https://www.oracle.com/pls/topic/lookup?ctx=dblatest&amp;id=GUID-C672E92D-CE32-4759-9931-92D7960850F7">HTTPS_PROXY</a>
in the connect descriptor.  Successful connection depends on specific proxy
configurations.  Oracle does not recommend doing this when performance is
critical.</p>
<p>Edit <code class="docutils literal notranslate"><span class="pre">sqlnet.ora</span></code> and add a line:</p>
<blockquote>
<div>SQLNET.USE_HTTPS_PROXY=on</div></blockquote>
<p>Edit <code class="docutils literal notranslate"><span class="pre">tnsnames.ora</span></code> and add an <code class="docutils literal notranslate"><span class="pre">HTTPS_PROXY</span></code> proxy name and
<code class="docutils literal notranslate"><span class="pre">HTTPS_PROXY_PORT</span></code> port to the connect descriptor address list of any service
name you plan to use, for example:</p>
<blockquote>
<div><dl class="docutils">
<dt>cjdb1_high = (description=</dt>
<dd>(address=
(https_proxy=myproxy.example.com)(https_proxy_port=80)
(protocol=tcps)(port=1522)(host= … )</dd>
</dl>
</div></blockquote>
</div>
</div>
<div class="section" id="connecting-to-sharded-databases">
<span id="connsharding"></span><h2>Connecting to Sharded Databases<a class="headerlink" href="#connecting-to-sharded-databases" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://www.oracle.com/database/technologies/high-availability/sharding.html">Oracle Sharding</a>
can be used to horizontally partition data across independent databases.  A
database table can be split so each shard contains a table with the same columns
but a different subset of rows.  These tables are known as sharded tables.
Sharding is configured in Oracle Database, see the <a class="reference external" href="https://www.oracle.com/pls/topic/lookup?ctx=dblatest&amp;id=SHARD">Oracle Sharding</a> manual.
Sharding requires Oracle Database and Oracle Client libraries 12.2, or later.</p>
<p>The <a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/api_manual/module.html#cx_Oracle.connect" title="cx_Oracle.connect"><code class="xref py py-meth docutils literal notranslate"><span class="pre">cx_Oracle.connect()</span></code></a> and <a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/api_manual/session_pool.html#SessionPool.acquire" title="SessionPool.acquire"><code class="xref py py-meth docutils literal notranslate"><span class="pre">SessionPool.acquire()</span></code></a> functions
accept <code class="docutils literal notranslate"><span class="pre">shardingkey</span></code> and <code class="docutils literal notranslate"><span class="pre">supershardingkey</span></code> parameters that are a sequence
of values used to route the connection directly to a given shard.  A sharding
key is always required.  A super sharding key is additionally required when
using composite sharding, which is when data has been partitioned by a list or
range (the super sharding key), and then further partitioned by a sharding key.</p>
<p>When creating a connection pool, the <a class="reference internal" href="https://cx-oracle.readthedocs.io/en/latest/api_manual/module.html#cx_Oracle.SessionPool" title="cx_Oracle.SessionPool"><code class="xref py py-meth docutils literal notranslate"><span class="pre">cx_Oracle.SessionPool()</span></code></a> attribute
<code class="docutils literal notranslate"><span class="pre">maxSessionsPerShard</span></code> can be set.  This is used to balance connections in the
pool equally across shards.  It requires Oracle Client libraries 18.3, or later.</p>
<p>Shard key values may be of type string (mapping to VARCHAR2 shard keys), number
(NUMBER), bytes (RAW), or date (DATE).  Multiple types may be used in each
array.  Sharding keys of TIMESTAMP type are not supported.</p>
<p>When connected to a shard, queries will only return data from that shard.  For
queries that need to access data from multiple shards, connections can be
established to the coordinator shard catalog database.  In this case, no shard
key or super shard key is used.</p>
<p>As an example of direct connection, if sharding had been configured on a single
VARCHAR2 column like:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span> <span class="n">SHARDED</span> <span class="k">TABLE</span> <span class="n">customers</span> <span class="p">(</span>
  <span class="n">cust_id</span> <span class="nb">NUMBER</span><span class="p">,</span>
  <span class="n">cust_name</span> <span class="n">VARCHAR2</span><span class="p">(</span><span class="mi">30</span><span class="p">),</span>
  <span class="k">class</span> <span class="n">VARCHAR2</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="n">signup_date</span> <span class="nb">DATE</span><span class="p">,</span>
  <span class="n">cust_code</span> <span class="n">RAW</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span>
  <span class="k">CONSTRAINT</span> <span class="n">cust_name_pk</span> <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">(</span><span class="n">cust_name</span><span class="p">))</span>
  <span class="n">PARTITION</span> <span class="k">BY</span> <span class="n">CONSISTENT</span> <span class="n">HASH</span> <span class="p">(</span><span class="n">cust_name</span><span class="p">)</span>
  <span class="n">PARTITIONS</span> <span class="n">AUTO</span> <span class="n">TABLESPACE</span> <span class="k">SET</span> <span class="n">ts1</span><span class="p">;</span>
</pre></div>
</div>
<p>then direct connection to a shard can be made by passing a single sharding key:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">connection</span> <span class="o">=</span> <span class="n">cx_Oracle</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">"hr"</span><span class="p">,</span> <span class="n">userpwd</span><span class="p">,</span> <span class="s2">"dbhost.example.com/orclpdb1"</span><span class="p">,</span>
        <span class="n">encoding</span><span class="o">=</span><span class="s2">"UTF-8"</span><span class="p">,</span> <span class="n">shardingkey</span><span class="o">=</span><span class="p">[</span><span class="s2">"SCOTT"</span><span class="p">])</span>
</pre></div>
</div>
<p>Numbers keys can be used in a similar way:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">connection</span> <span class="o">=</span> <span class="n">cx_Oracle</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">"hr"</span><span class="p">,</span> <span class="n">userpwd</span><span class="p">,</span> <span class="s2">"dbhost.example.com/orclpdb1"</span><span class="p">,</span>
        <span class="n">encoding</span><span class="o">=</span><span class="s2">"UTF-8"</span><span class="p">,</span> <span class="n">shardingkey</span><span class="o">=</span><span class="p">[</span><span class="mi">110</span><span class="p">])</span>
</pre></div>
</div>
<p>When sharding by DATE, you can connect like:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">datetime</span>

<span class="n">d</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2014</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>

<span class="n">connection</span> <span class="o">=</span> <span class="n">cx_Oracle</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">"hr"</span><span class="p">,</span> <span class="n">userpwd</span><span class="p">,</span> <span class="s2">"dbhost.example.com/orclpdb1"</span><span class="p">,</span>
        <span class="n">encoding</span><span class="o">=</span><span class="s2">"UTF-8"</span><span class="p">,</span> <span class="n">shardingkey</span><span class="o">=</span><span class="p">[</span><span class="n">d</span><span class="p">])</span>
</pre></div>
</div>
<p>When sharding by RAW, you can connect like:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">b</span> <span class="o">=</span> <span class="sa">b</span><span class="s1">'</span><span class="se">\x01\x04\x08</span><span class="s1">'</span><span class="p">;</span>

<span class="n">connection</span> <span class="o">=</span> <span class="n">cx_Oracle</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">"hr"</span><span class="p">,</span> <span class="n">userpwd</span><span class="p">,</span> <span class="s2">"dbhost.example.com/orclpdb1"</span><span class="p">,</span>
        <span class="n">encoding</span><span class="o">=</span><span class="s2">"UTF-8"</span><span class="p">,</span> <span class="n">shardingkey</span><span class="o">=</span><span class="p">[</span><span class="n">b</span><span class="p">])</span>
</pre></div>
</div>
<p>Multiple keys can be specified, for example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">keyArray</span> <span class="o">=</span> <span class="p">[</span><span class="mi">70</span><span class="p">,</span> <span class="s2">"SCOTT"</span><span class="p">,</span> <span class="s2">"gold"</span><span class="p">,</span> <span class="sa">b</span><span class="s1">'</span><span class="se">\x00\x01\x02</span><span class="s1">'</span><span class="p">]</span>

<span class="n">connection</span> <span class="o">=</span> <span class="n">cx_Oracle</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">"hr"</span><span class="p">,</span> <span class="n">userpwd</span><span class="p">,</span> <span class="s2">"dbhost.example.com/orclpdb1"</span><span class="p">,</span>
        <span class="n">encoding</span><span class="o">=</span><span class="s2">"UTF-8"</span><span class="p">,</span> <span class="n">shardingkey</span><span class="o">=</span><span class="n">keyArray</span><span class="p">)</span>
</pre></div>
</div>
<p>A super sharding key example is:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">connection</span> <span class="o">=</span> <span class="n">cx_Oracle</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">"hr"</span><span class="p">,</span> <span class="n">userpwd</span><span class="p">,</span> <span class="s2">"dbhost.example.com/orclpdb1"</span><span class="p">,</span>
        <span class="n">encoding</span><span class="o">=</span><span class="s2">"UTF-8"</span><span class="p">,</span> <span class="n">supershardingkey</span><span class="o">=</span><span class="p">[</span><span class="s2">"goldclass"</span><span class="p">],</span> <span class="n">shardingkey</span><span class="o">=</span><span class="p">[</span><span class="s2">"SCOTT"</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="https://cx-oracle.readthedocs.io/en/latest/user_guide/sql_execution.html" class="btn btn-neutral float-right" title="SQL Execution" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="https://cx-oracle.readthedocs.io/en/latest/user_guide/initialization.html" class="btn btn-neutral float-left" title="cx_Oracle 8 Initialization" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr><div><div id="rtd-6o7m2qi4" class="ethical-rtd"></div></div>

  <div role="contentinfo">
    <p>
        © Copyright 2016, 2020, Oracle and/or its affiliates. All rights
 reserved. Portions Copyright © 2007-2015, Anthony Tuininga. All rights 
reserved. Portions Copyright © 2001-2007, Computronix (Canada) Ltd., 
Edmonton, Alberta, Canada. All rights reserved
      
        <span class="commit">
          Revision <code>10e5c258</code>.
        </span>
      

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org/">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <div class="rst-versions shift" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Read the Docs</span>
      v: latest
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions"><!-- Inserted RTD Footer -->

<div class="injected">

  

      
      
      
      <dl>
        <dt>Versiones</dt>
        
         <strong> 
        <dd><a href="https://cx-oracle.readthedocs.io/en/latest/user_guide/connection_handling.html">latest</a></dd>
         </strong> 
        
        
        <dd><a href="https://cx-oracle.readthedocs.io/en/stable/user_guide/connection_handling.html">stable</a></dd>
        
        
        
        <dd><a href="https://cx-oracle.readthedocs.io/en/7.3/user_guide/connection_handling.html">7.3</a></dd>
        
        
        
        <dd><a href="https://cx-oracle.readthedocs.io/en/7.2.3/user_guide/connection_handling.html">7.2.3</a></dd>
        
        
        
        <dd><a href="https://cx-oracle.readthedocs.io/en/7.2.2/user_guide/connection_handling.html">7.2.2</a></dd>
        
        
        
        <dd><a href="https://cx-oracle.readthedocs.io/en/7.2.1/user_guide/connection_handling.html">7.2.1</a></dd>
        
        
        
        <dd><a href="https://cx-oracle.readthedocs.io/en/7.2/user_guide/connection_handling.html">7.2</a></dd>
        
        
        
        <dd><a href="https://cx-oracle.readthedocs.io/en/7.1.3/user_guide/connection_handling.html">7.1.3</a></dd>
        
        
        
        <dd><a href="https://cx-oracle.readthedocs.io/en/7.1.2/user_guide/connection_handling.html">7.1.2</a></dd>
        
        
        
        <dd><a href="https://cx-oracle.readthedocs.io/en/7.1.1/user_guide/connection_handling.html">7.1.1</a></dd>
        
        
        
        <dd><a href="https://cx-oracle.readthedocs.io/en/7.1/user_guide/connection_handling.html">7.1</a></dd>
        
        
        
        <dd><a href="https://cx-oracle.readthedocs.io/en/7.0/user_guide/connection_handling.html">7.0</a></dd>
        
        
        
        <dd><a href="https://cx-oracle.readthedocs.io/en/6.4.1/user_guide/connection_handling.html">6.4.1</a></dd>
        
        
        
        <dd><a href="https://cx-oracle.readthedocs.io/en/6.4/user_guide/connection_handling.html">6.4</a></dd>
        
        
        
        <dd><a href="https://cx-oracle.readthedocs.io/en/6.3.1/user_guide/connection_handling.html">6.3.1</a></dd>
        
        
        
        <dd><a href="https://cx-oracle.readthedocs.io/en/6.3/user_guide/connection_handling.html">6.3</a></dd>
        
        
        
        <dd><a href="https://cx-oracle.readthedocs.io/en/6.2.1/user_guide/connection_handling.html">6.2.1</a></dd>
        
        
        
        <dd><a href="https://cx-oracle.readthedocs.io/en/6.1/user_guide/connection_handling.html">6.1</a></dd>
        
        
        
        <dd><a href="https://cx-oracle.readthedocs.io/en/6.0.3/user_guide/connection_handling.html">6.0.3</a></dd>
        
        
        
        <dd><a href="https://cx-oracle.readthedocs.io/en/6.0.2/user_guide/connection_handling.html">6.0.2</a></dd>
        
        
        
        <dd><a href="https://cx-oracle.readthedocs.io/en/6.0.1/user_guide/connection_handling.html">6.0.1</a></dd>
        
        
        
        <dd><a href="https://cx-oracle.readthedocs.io/en/6.0/user_guide/connection_handling.html">6.0</a></dd>
        
        
        
        <dd><a href="https://cx-oracle.readthedocs.io/en/5.3/user_guide/connection_handling.html">5.3</a></dd>
        
        
        
        <dd><a href="https://cx-oracle.readthedocs.io/en/v5.x/user_guide/connection_handling.html">v5.x</a></dd>
        
        
      </dl>
      
      

      
      
      <dl>
        <dt>Descargas</dt>
        
        <dd><a href="https://cx-oracle.readthedocs.io/_/downloads/en/latest/pdf/">PDF</a></dd>
        
        <dd><a href="https://cx-oracle.readthedocs.io/_/downloads/en/latest/htmlzip/">HTML</a></dd>
        
        <dd><a href="https://cx-oracle.readthedocs.io/_/downloads/en/latest/epub/">Epub</a></dd>
        
      </dl>
      
      

      
      <dl>
        
        <!-- These are kept as relative links for internal installs that are http -->
        <dt>On Read the Docs</dt>
        <dd>
          <a href="https://readthedocs.org/projects/cx-oracle/">Project Home</a>
        </dd>
        <dd>
          <a href="https://readthedocs.org/projects/cx-oracle/builds/">Compilaciones</a>
        </dd>
        <dd>
          <a href="https://readthedocs.org/projects/cx-oracle/downloads/">Descargas</a>
        </dd>
      </dl>
      

      

      
      <dl>
        <dt>On GitHub</dt>
        <dd>
          <a href="https://github.com/oracle/python-cx_Oracle/blob/master/doc/src/user_guide/connection_handling.rst">Vista</a>
        </dd>
        
        <dd>
          <a href="https://github.com/oracle/python-cx_Oracle/edit/master/doc/src/user_guide/connection_handling.rst">Editar</a>
        </dd>
        
      </dl>
      
      

      
      <dl>
        <dt>Buscar</dt>
        <dd>
          <div style="padding: 6px;">
            
            <form id="flyout-search-form" class="wy-form" target="_blank" action="//readthedocs.org/projects/cx-oracle/search/" method="get">
              <input type="text" name="q" placeholder="Search docs">
              </form>
          </div>
        </dd>
      </dl>
      

      
      

      <hr>
      
        <small>
          <span>Hosted by <a href="https://readthedocs.org/">Read the Docs</a></span>
          <span> · </span>
          <a href="https://docs.readthedocs.io/page/privacy-policy.html">Política de privacidad</a>
        </small>
      

      

</div>
</div>
  </div>



  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
   


<div id="rtd-puq5bfvf"></div></body></html>